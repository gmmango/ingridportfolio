"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[632],{125:(e,t,r)=>{var n=r(2115),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useState,i=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=o({inst:{value:r,getSnapshot:t}}),a=n[0].inst,d=n[1];return s(function(){a.value=r,a.getSnapshot=t,c(a)&&d({inst:a})},[e,r,t]),i(function(){return c(a)&&d({inst:a}),e(function(){c(a)&&d({inst:a})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:d},258:(e,t,r)=>{r.d(t,{Hl:()=>u});var n=r(264),a=r(2115),o=r(7548);function i(e,t){let r;return(...n)=>{window.clearTimeout(r),r=window.setTimeout(()=>e(...n),t)}}let s=["x","y","top","bottom","left","right","width","height"];var l=r(4735),c=r(5155);function d({ref:e,children:t,fallback:r,resize:l,style:d,gl:u,events:f=n.f,eventSource:p,eventPrefix:h,shadows:m,linear:g,flat:v,legacy:b,orthographic:w,frameloop:y,dpr:x,performance:k,raycaster:E,camera:M,scene:_,onPointerMissed:P,onCreated:S,...O}){a.useMemo(()=>(0,n.e)(o),[]);let T=(0,n.u)(),[A,C]=function({debounce:e,scroll:t,polyfill:r,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){var o,l,c;let d=r||("undefined"==typeof window?class{}:window.ResizeObserver);if(!d)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[u,f]=(0,a.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),p=(0,a.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:u,orientationHandler:null}),h=e?"number"==typeof e?e:e.scroll:null,m=e?"number"==typeof e?e:e.resize:null,g=(0,a.useRef)(!1);(0,a.useEffect)(()=>(g.current=!0,()=>void(g.current=!1)));let[v,b,w]=(0,a.useMemo)(()=>{let e=()=>{let e,t;if(!p.current.element)return;let{left:r,top:a,width:o,height:i,bottom:l,right:c,x:d,y:u}=p.current.element.getBoundingClientRect(),h={left:r,top:a,width:o,height:i,bottom:l,right:c,x:d,y:u};p.current.element instanceof HTMLElement&&n&&(h.height=p.current.element.offsetHeight,h.width=p.current.element.offsetWidth),Object.freeze(h),g.current&&(e=p.current.lastBounds,t=h,!s.every(r=>e[r]===t[r]))&&f(p.current.lastBounds=h)};return[e,m?i(e,m):e,h?i(e,h):e]},[f,n,h,m]);function y(){p.current.scrollContainers&&(p.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",w,!0)),p.current.scrollContainers=null),p.current.resizeObserver&&(p.current.resizeObserver.disconnect(),p.current.resizeObserver=null),p.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",p.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",p.current.orientationHandler))}function x(){p.current.element&&(p.current.resizeObserver=new d(w),p.current.resizeObserver.observe(p.current.element),t&&p.current.scrollContainers&&p.current.scrollContainers.forEach(e=>e.addEventListener("scroll",w,{capture:!0,passive:!0})),p.current.orientationHandler=()=>{w()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",p.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",p.current.orientationHandler))}return o=w,l=!!t,(0,a.useEffect)(()=>{if(l)return window.addEventListener("scroll",o,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",o,!0)},[o,l]),c=b,(0,a.useEffect)(()=>(window.addEventListener("resize",c),()=>void window.removeEventListener("resize",c)),[c]),(0,a.useEffect)(()=>{y(),x()},[t,w,b]),(0,a.useEffect)(()=>y,[]),[e=>{e&&e!==p.current.element&&(y(),p.current.element=e,p.current.scrollContainers=function e(t){let r=[];if(!t||t===document.body)return r;let{overflow:n,overflowX:a,overflowY:o}=window.getComputedStyle(t);return[n,a,o].some(e=>"auto"===e||"scroll"===e)&&r.push(t),[...r,...e(t.parentElement)]}(e),x())},u,v]}({scroll:!0,debounce:{scroll:50,resize:0},...l}),R=a.useRef(null),I=a.useRef(null);a.useImperativeHandle(e,()=>R.current);let z=(0,n.a)(P),[U,j]=a.useState(!1),[L,F]=a.useState(!1);if(U)throw U;if(L)throw L;let N=a.useRef(null);(0,n.b)(()=>{let e=R.current;C.width>0&&C.height>0&&e&&(N.current||(N.current=(0,n.c)(e)),async function(){await N.current.configure({gl:u,scene:_,events:f,shadows:m,linear:g,flat:v,legacy:b,orthographic:w,frameloop:y,dpr:x,performance:k,raycaster:E,camera:M,size:C,onPointerMissed:(...e)=>null==z.current?void 0:z.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(p?(0,n.i)(p)?p.current:p:I.current),h&&e.setEvents({compute:(e,t)=>{let r=e[h+"X"],n=e[h+"Y"];t.pointer.set(r/t.size.width*2-1,-(2*(n/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==S||S(e)}}),N.current.render((0,c.jsx)(T,{children:(0,c.jsx)(n.E,{set:F,children:(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)(n.B,{set:j}),children:null!=t?t:null})})}))}())}),a.useEffect(()=>{let e=R.current;if(e)return()=>(0,n.d)(e)},[]);let D=p?"none":"auto";return(0,c.jsx)("div",{ref:I,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:D,...d},...O,children:(0,c.jsx)("div",{ref:A,style:{width:"100%",height:"100%"},children:(0,c.jsx)("canvas",{ref:R,style:{display:"block"},children:r})})})}function u(e){return(0,c.jsx)(l.Af,{children:(0,c.jsx)(d,{...e})})}r(4943)},950:(e,t,r)=>{let n;r.d(t,{OH:()=>ew});var a=r(8945),o=r(2115),i=r(264),s=r(5339);let l=parseInt(s.sPf.replace(/\D+/g,""));class c extends s.eaF{constructor(e,t){var r,n;let a=(e=>e&&e.isCubeTexture)(e),o=Math.floor(Math.log2((null!=(n=a?null==(r=e.image[0])?void 0:r.width:e.image.width)?n:1024)/4)),i=Math.pow(2,o),c=3*Math.max(i,112),d=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,u=[a?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/c}`,`#define CUBEUV_TEXEL_HEIGHT ${1/(4*i)}`,`#define CUBEUV_MAX_MIP ${o}.0`].join("\n")+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${l>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,f={map:{value:e},height:{value:(null==t?void 0:t.height)||15},radius:{value:(null==t?void 0:t.radius)||100}};super(new s.WBB(1,16),new s.BKk({uniforms:f,fragmentShader:u,vertexShader:d,side:s.$EB}))}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class d extends s.BRH{constructor(e){super(e),this.type=s.ix0}parse(e){let t,r,n,a=function(e,t){switch(e){case 1:throw Error("THREE.RGBELoader: Read Error: "+(t||""));case 2:throw Error("THREE.RGBELoader: Write Error: "+(t||""));case 3:throw Error("THREE.RGBELoader: Bad File Format: "+(t||""));default:throw Error("THREE.RGBELoader: Memory Error: "+(t||""))}},o=function(e,t,r){t=t||1024;let n=e.pos,a=-1,o=0,i="",s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(n,n+128)));for(;0>(a=s.indexOf("\n"))&&o<t&&n<e.byteLength;)i+=s,o+=s.length,n+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(n,n+128)));return -1<a&&(!1!==r&&(e.pos+=o+a+1),i+s.slice(0,a))},i=new Uint8Array(e);i.pos=0;let l=function(e){let t,r,n=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,i=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,s=/^\s*FORMAT=(\S+)\s*$/,l=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,c={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};for(!(e.pos>=e.byteLength)&&(t=o(e))||a(1,"no header found"),(r=t.match(/^#\?(\S+)/))||a(3,"bad initial token"),c.valid|=1,c.programtype=r[1],c.string+=t+"\n";!1!==(t=o(e));){if(c.string+=t+"\n","#"===t.charAt(0)){c.comments+=t+"\n";continue}if((r=t.match(n))&&(c.gamma=parseFloat(r[1])),(r=t.match(i))&&(c.exposure=parseFloat(r[1])),(r=t.match(s))&&(c.valid|=2,c.format=r[1]),(r=t.match(l))&&(c.valid|=4,c.height=parseInt(r[1],10),c.width=parseInt(r[2],10)),2&c.valid&&4&c.valid)break}return 2&c.valid||a(3,"missing format specifier"),4&c.valid||a(3,"missing image size specifier"),c}(i),c=l.width,d=l.height,u=function(e,t,r){if(t<8||t>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);t!==(e[2]<<8|e[3])&&a(3,"wrong scanline width");let n=new Uint8Array(4*t*r);n.length||a(4,"unable to allocate buffer space");let o=0,i=0,s=4*t,l=new Uint8Array(4),c=new Uint8Array(s),d=r;for(;d>0&&i<e.byteLength;){i+4>e.byteLength&&a(1),l[0]=e[i++],l[1]=e[i++],l[2]=e[i++],l[3]=e[i++],(2!=l[0]||2!=l[1]||(l[2]<<8|l[3])!=t)&&a(3,"bad rgbe scanline format");let r=0,u;for(;r<s&&i<e.byteLength;){let t=(u=e[i++])>128;if(t&&(u-=128),(0===u||r+u>s)&&a(3,"bad scanline data"),t){let t=e[i++];for(let e=0;e<u;e++)c[r++]=t}else c.set(e.subarray(i,i+u),r),r+=u,i+=u}for(let e=0;e<t;e++){let r=0;n[o]=c[e+r],r+=t,n[o+1]=c[e+r],r+=t,n[o+2]=c[e+r],r+=t,n[o+3]=c[e+r],o+=4}d--}return n}(i.subarray(i.pos),c,d);switch(this.type){case s.RQf:let f=new Float32Array(4*(n=u.length/4));for(let e=0;e<n;e++)!function(e,t,r,n){let a=Math.pow(2,e[t+3]-128)/255;r[n+0]=e[t+0]*a,r[n+1]=e[t+1]*a,r[n+2]=e[t+2]*a,r[n+3]=1}(u,4*e,f,4*e);t=f,r=s.RQf;break;case s.ix0:let p=new Uint16Array(4*(n=u.length/4));for(let e=0;e<n;e++)!function(e,t,r,n){let a=Math.pow(2,e[t+3]-128)/255;r[n+0]=s.GxU.toHalfFloat(Math.min(e[t+0]*a,65504)),r[n+1]=s.GxU.toHalfFloat(Math.min(e[t+1]*a,65504)),r[n+2]=s.GxU.toHalfFloat(Math.min(e[t+2]*a,65504)),r[n+3]=s.GxU.toHalfFloat(1)}(u,4*e,p,4*e);t=p,r=s.ix0;break;default:throw Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:c,height:d,data:t,header:l.string,gamma:l.gamma,exposure:l.exposure,type:r}}setDataType(e){return this.type=e,this}load(e,t,r,n){return super.load(e,function(e,r){switch(e.type){case s.RQf:case s.ix0:"colorSpace"in e?e.colorSpace="srgb-linear":e.encoding=3e3,e.minFilter=s.k6q,e.magFilter=s.k6q,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,r)},r,n)}}var u=Uint8Array,f=Uint16Array,p=Uint32Array,h=new u([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),m=new u([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),g=new u([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),v=function(e,t){for(var r=new f(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new p(r[30]),n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)a[o]=o-r[n]<<5|n;return[r,a]},b=v(h,2),w=b[0],y=b[1];w[28]=258,y[258]=28;var x=v(m,0),k=x[0];x[1];for(var E=new f(32768),M=0;M<32768;++M){var _=(43690&M)>>>1|(21845&M)<<1;_=(61680&(_=(52428&_)>>>2|(13107&_)<<2))>>>4|(3855&_)<<4,E[M]=((65280&_)>>>8|(255&_)<<8)>>>1}for(var P=function(e,t,r){for(var n,a=e.length,o=0,i=new f(t);o<a;++o)++i[e[o]-1];var s=new f(t);for(o=0;o<t;++o)s[o]=s[o-1]+i[o-1]<<1;if(r){n=new f(1<<t);var l=15-t;for(o=0;o<a;++o)if(e[o])for(var c=o<<4|e[o],d=t-e[o],u=s[e[o]-1]++<<d,p=u|(1<<d)-1;u<=p;++u)n[E[u]>>>l]=c}else for(o=0,n=new f(a);o<a;++o)e[o]&&(n[o]=E[s[e[o]-1]++]>>>15-e[o]);return n},S=new u(288),M=0;M<144;++M)S[M]=8;for(var M=144;M<256;++M)S[M]=9;for(var M=256;M<280;++M)S[M]=7;for(var M=280;M<288;++M)S[M]=8;for(var O=new u(32),M=0;M<32;++M)O[M]=5;var T=P(S,9,1),A=P(O,5,1),C=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},R=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},I=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},z=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(e instanceof f?f:e instanceof p?p:u)(r-t);return n.set(e.subarray(t,r)),n},U=function(e,t,r){var n=e.length;if(!n||r&&!r.l&&n<5)return t||new u(0);var a=!t||r,o=!r||r.i;r||(r={}),t||(t=new u(3*n));var i=function(e){var r=t.length;if(e>r){var n=new u(Math.max(2*r,e));n.set(t),t=n}},s=r.f||0,l=r.p||0,c=r.b||0,d=r.l,f=r.d,p=r.m,v=r.n,b=8*n;do{if(!d){r.f=s=R(e,l,1);var y=R(e,l+1,3);if(l+=3,y)if(1==y)d=T,f=A,p=9,v=5;else if(2==y){var x=R(e,l,31)+257,E=R(e,l+10,15)+4,M=x+R(e,l+5,31)+1;l+=14;for(var _=new u(M),S=new u(19),O=0;O<E;++O)S[g[O]]=R(e,l+3*O,7);l+=3*E;for(var U=C(S),j=(1<<U)-1,L=P(S,U,1),O=0;O<M;){var F=L[R(e,l,j)];l+=15&F;var N=F>>>4;if(N<16)_[O++]=N;else{var D=0,H=0;for(16==N?(H=3+R(e,l,3),l+=2,D=_[O-1]):17==N?(H=3+R(e,l,7),l+=3):18==N&&(H=11+R(e,l,127),l+=7);H--;)_[O++]=D}}var B=_.subarray(0,x),W=_.subarray(x);p=C(B),v=C(W),d=P(B,p,1),f=P(W,v,1)}else throw"invalid block type";else{var Y,N=((Y=l)/8|0)+(7&Y&&1)+4,q=e[N-4]|e[N-3]<<8,G=N+q;if(G>n){if(o)throw"unexpected EOF";break}a&&i(c+q),t.set(e.subarray(N,G),c),r.b=c+=q,r.p=l=8*G;continue}if(l>b){if(o)throw"unexpected EOF";break}}a&&i(c+131072);for(var $=(1<<p)-1,V=(1<<v)-1,X=l;;X=l){var D=d[I(e,l)&$],Z=D>>>4;if((l+=15&D)>b){if(o)throw"unexpected EOF";break}if(!D)throw"invalid length/literal";if(Z<256)t[c++]=Z;else if(256==Z){X=l,d=null;break}else{var K=Z-254;if(Z>264){var O=Z-257,Q=h[O];K=R(e,l,(1<<Q)-1)+w[O],l+=Q}var J=f[I(e,l)&V],ee=J>>>4;if(!J)throw"invalid distance";l+=15&J;var W=k[ee];if(ee>3){var Q=m[ee];W+=I(e,l)&(1<<Q)-1,l+=Q}if(l>b){if(o)throw"unexpected EOF";break}a&&i(c+131072);for(var et=c+K;c<et;c+=4)t[c]=t[c-W],t[c+1]=t[c+1-W],t[c+2]=t[c+2-W],t[c+3]=t[c+3-W];c=et}}r.l=d,r.p=X,r.b=c,d&&(s=1,r.m=p,r.d=f,r.n=v)}while(!s);return c==t.length?t:z(t,0,c)},j=new u(0),L=function(e){if((15&e[0])!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function F(e,t){return U((L(e),e.subarray(2,-4)),t)}var N="undefined"!=typeof TextDecoder&&new TextDecoder;try{N.decode(j,{stream:!0})}catch(e){}let D=l>=152;class H extends s.BRH{constructor(e){super(e),this.type=s.ix0}parse(e){let t={l:0,c:0,lc:0};function r(e,r,n,a,o){for(;n<e;)r=r<<8|P(a,o),n+=8;t.l=r>>(n-=e)&(1<<e)-1,t.c=r,t.lc=n}let n=Array(59),a={c:0,lc:0};function o(e,t,r,n){e=e<<8|P(r,n),t+=8,a.c=e,a.lc=t}let i={c:0,lc:0};function l(e,t,r,n,s,l,c,d,u,f){if(e==t){n<8&&(o(r,n,s,c),r=a.c,n=a.lc);var p=r>>(n-=8),p=new Uint8Array([p])[0];if(u.value+p>f)return!1;for(var h=d[u.value-1];p-- >0;)d[u.value++]=h}else{if(!(u.value<f))return!1;d[u.value++]=e}i.c=r,i.lc=n}function c(e){var t=65535&e;return t>32767?t-65536:t}let d={a:0,b:0};function u(e,t){var r=c(e),n=c(t),a=r+(1&n)+(n>>1),o=a-n;d.a=a,d.b=o}function f(e,t){var r=65535&t,n=(65535&e)-(r>>1)&65535;d.a=r+n-32768&65535,d.b=n}function p(e,s,c,d,u,f){var p=c.value,h=_(s,c),m=_(s,c);c.value+=4;var g=_(s,c);if(c.value+=4,h<0||h>=65537||m<0||m>=65537)throw"Something wrong with HUF_ENCSIZE";for(var v=Array(65537),b=Array(16384),w=0;w<16384;w++)b[w]={},b[w].len=0,b[w].lit=0,b[w].p=null;var y=d-(c.value-p);if(!function(e,a,o,i,s,l,c){for(var d=0,u=0;s<=l;s++){if(o.value-o.value>i)return!1;r(6,d,u,e,o);var f=t.l;if(d=t.c,u=t.lc,c[s]=f,63==f){if(o.value-o.value>i)throw"Something wrong with hufUnpackEncTable";r(8,d,u,e,o);var p=t.l+6;if(d=t.c,u=t.lc,s+p>l+1)throw"Something wrong with hufUnpackEncTable";for(;p--;)c[s++]=0;s--}else if(f>=59){var p=f-59+2;if(s+p>l+1)throw"Something wrong with hufUnpackEncTable";for(;p--;)c[s++]=0;s--}}!function(e){for(var t=0;t<=58;++t)n[t]=0;for(var t=0;t<65537;++t)n[e[t]]+=1;for(var r=0,t=58;t>0;--t){var a=r+n[t]>>1;n[t]=r,r=a}for(var t=0;t<65537;++t){var o=e[t];o>0&&(e[t]=o|n[o]++<<6)}}(c)}(e,0,c,y,h,m,v),g>8*(d-(c.value-p)))throw"Something wrong with hufUncompress";!function(e,t,r,n){for(;t<=r;t++){var a=e[t]>>6,o=63&e[t];if(a>>o)throw"Invalid table entry";if(o>14){var i=n[a>>o-14];if(i.len)throw"Invalid table entry";if(i.lit++,i.p){var s=i.p;i.p=Array(i.lit);for(var l=0;l<i.lit-1;++l)i.p[l]=s[l]}else i.p=[,];i.p[i.lit-1]=t}else if(o)for(var c=0,l=1<<14-o;l>0;l--){var i=n[(a<<14-o)+c];if(i.len||i.p)throw"Invalid table entry";i.len=o,i.lit=t,c++}}}(v,h,m,b),function(e,t,r,n,s,c,d,u,f,p){for(var h=0,m=0,g=Math.trunc(s.value+(c+7)/8);s.value<g;)for(o(h,m,r,s),h=a.c,m=a.lc;m>=14;){var v=t[h>>m-14&16383];if(v.len)m-=v.len,l(v.lit,d,h,m,r,n,s,f,p,u),h=i.c,m=i.lc;else{if(!v.p)throw"hufDecode issues";for(b=0;b<v.lit;b++){for(var b,w=63&e[v.p[b]];m<w&&s.value<g;)o(h,m,r,s),h=a.c,m=a.lc;if(m>=w&&e[v.p[b]]>>6==(h>>m-w&(1<<w)-1)){m-=w,l(v.p[b],d,h,m,r,n,s,f,p,u),h=i.c,m=i.lc;break}}if(b==v.lit)throw"hufDecode issues"}}var y=8-c&7;for(h>>=y,m-=y;m>0;){var v=t[h<<14-m&16383];if(v.len)m-=v.len,l(v.lit,d,h,m,r,n,s,f,p,u),h=i.c,m=i.lc;else throw"hufDecode issues"}}(v,b,e,s,c,g,m,f,u,{value:0})}function h(e){for(var t=1;t<e.length;t++){var r=e[t-1]+e[t]-128;e[t]=r}}function m(e,t){for(var r=0,n=Math.floor((e.length+1)/2),a=0,o=e.length-1;!(a>o)&&(t[a++]=e[r++],!(a>o));){;t[a++]=e[n++]}}function g(e){for(var t=e.byteLength,r=[],n=0,a=new DataView(e);t>0;){var o=a.getInt8(n++);if(o<0){var i=-o;t-=i+1;for(var s=0;s<i;s++)r.push(a.getUint8(n++))}else{var i=o;t-=2;for(var l=a.getUint8(n++),s=0;s<i+1;s++)r.push(l)}}return r}function v(e){return new DataView(e.array.buffer,e.offset.value,e.size)}function b(e){var t=new Uint8Array(g(e.viewer.buffer.slice(e.offset.value,e.offset.value+e.size))),r=new Uint8Array(t.length);return h(t),m(t,r),new DataView(r.buffer)}function w(e){var t=F(e.array.slice(e.offset.value,e.offset.value+e.size)),r=new Uint8Array(t.length);return h(t),m(t,r),new DataView(r.buffer)}function y(e){for(var t=e.viewer,r={value:e.offset.value},n=new Uint16Array(e.width*e.scanlineBlockSize*(e.channels*e.type)),a=new Uint8Array(8192),o=0,i=Array(e.channels),s=0;s<e.channels;s++)i[s]={},i[s].start=o,i[s].end=i[s].start,i[s].nx=e.width,i[s].ny=e.lines,i[s].size=e.type,o+=i[s].nx*i[s].ny*i[s].size;var l=R(t,r),c=R(t,r);if(c>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(l<=c)for(var s=0;s<c-l+1;s++)a[s+l]=S(t,r);var h=new Uint16Array(65536),m=function(e,t){for(var r=0,n=0;n<65536;++n)(0==n||e[n>>3]&1<<(7&n))&&(t[r++]=n);for(var a=r-1;r<65536;)t[r++]=0;return a}(a,h),g=_(t,r);p(e.array,t,r,g,n,o);for(var s=0;s<e.channels;++s)for(var v=i[s],b=0;b<i[s].size;++b)!function(e,t,r,n,a,o,i){for(var s=i<16384,l=r>a?a:r,c=1;c<=l;)c<<=1;for(c>>=1,p=c,c>>=1;c>=1;){for(var p,h,m,g,v,b=0,w=0+o*(a-p),y=o*c,x=o*p,k=n*c,E=n*p;b<=w;b+=x){for(var M=b,_=b+n*(r-p);M<=_;M+=E){var P=M+k,S=M+y,O=S+k;s?(u(e[M+t],e[S+t]),h=d.a,g=d.b,u(e[P+t],e[O+t]),m=d.a,v=d.b,u(h,m),e[M+t]=d.a,e[P+t]=d.b,u(g,v)):(f(e[M+t],e[S+t]),h=d.a,g=d.b,f(e[P+t],e[O+t]),m=d.a,v=d.b,f(h,m),e[M+t]=d.a,e[P+t]=d.b,f(g,v)),e[S+t]=d.a,e[O+t]=d.b}if(r&c){var S=M+y;s?u(e[M+t],e[S+t]):f(e[M+t],e[S+t]),h=d.a,e[S+t]=d.b,e[M+t]=h}}if(a&c)for(var M=b,_=b+n*(r-p);M<=_;M+=E){var P=M+k;s?u(e[M+t],e[P+t]):f(e[M+t],e[P+t]),h=d.a,e[P+t]=d.b,e[M+t]=h}p=c,c>>=1}}(n,v.start+b,v.nx,v.size,v.ny,v.nx*v.size,m);for(var w=o,y=0;y<w;++y)n[y]=h[n[y]];for(var x=0,k=new Uint8Array(n.buffer.byteLength),E=0;E<e.lines;E++)for(var M=0;M<e.channels;M++){var v=i[M],P=v.nx*v.size,O=new Uint8Array(n.buffer,2*v.end,2*P);k.set(O,x),x+=2*P,v.end+=P}return new DataView(k.buffer)}function x(e){var t=F(e.array.slice(e.offset.value,e.offset.value+e.size));let r=e.lines*e.channels*e.width,n=1==e.type?new Uint16Array(r):new Uint32Array(r),a=0,o=0,i=[,,,,];for(let r=0;r<e.lines;r++)for(let r=0;r<e.channels;r++){let r=0;switch(e.type){case 1:i[0]=a,i[1]=i[0]+e.width,a=i[1]+e.width;for(let a=0;a<e.width;++a)r+=t[i[0]++]<<8|t[i[1]++],n[o]=r,o++;break;case 2:i[0]=a,i[1]=i[0]+e.width,i[2]=i[1]+e.width,a=i[2]+e.width;for(let a=0;a<e.width;++a)r+=t[i[0]++]<<24|t[i[1]++]<<16|t[i[2]++]<<8,n[o]=r,o++}}return new DataView(n.buffer)}function k(e){var t=e.viewer,r={value:e.offset.value},n=new Uint8Array(e.width*e.lines*(e.channels*e.type*2)),a={version:O(t,r),unknownUncompressedSize:O(t,r),unknownCompressedSize:O(t,r),acCompressedSize:O(t,r),dcCompressedSize:O(t,r),rleCompressedSize:O(t,r),rleUncompressedSize:O(t,r),rleRawSize:O(t,r),totalAcUncompressedCount:O(t,r),totalDcUncompressedCount:O(t,r),acCompression:O(t,r)};if(a.version<2)throw"EXRLoader.parse: "+L.compression+" version "+a.version+" is unsupported";for(var o=[],i=R(t,r)-2;i>0;){var l=E(t.buffer,r),c=S(t,r),d=c>>2&3,u=new Int8Array([(c>>4)-1])[0],f=S(t,r);o.push({name:l,index:u,type:f,compression:d}),i-=l.length+3}for(var h=L.channels,m=Array(e.channels),v=0;v<e.channels;++v){var b=m[v]={},y=h[v];b.name=y.name,b.compression=0,b.decoded=!1,b.type=y.pixelType,b.pLinear=y.pLinear,b.width=e.width,b.height=e.lines}for(var x={idx:[,,,]},k=0;k<e.channels;++k)for(var b=m[k],v=0;v<o.length;++v){var M=o[v];b.name==M.name&&(b.compression=M.compression,M.index>=0&&(x.idx[M.index]=k),b.offset=k)}if(a.acCompressedSize>0)switch(a.acCompression){case 0:var _=new Uint16Array(a.totalAcUncompressedCount);p(e.array,t,r,a.acCompressedSize,_,a.totalAcUncompressedCount);break;case 1:var P=e.array.slice(r.value,r.value+a.totalAcUncompressedCount),T=F(P),_=new Uint16Array(T.buffer);r.value+=a.totalAcUncompressedCount}if(a.dcCompressedSize>0){var A=new Uint16Array(w({array:e.array,offset:r,size:a.dcCompressedSize}).buffer);r.value+=a.dcCompressedSize}if(a.rleRawSize>0){var P=e.array.slice(r.value,r.value+a.rleCompressedSize),T=F(P),I=g(T.buffer);r.value+=a.rleCompressedSize}for(var z=0,U=Array(m.length),v=0;v<U.length;++v)U[v]=[];for(var j=0;j<e.lines;++j)for(var N=0;N<m.length;++N)U[N].push(z),z+=m[N].width*e.type*2;!function(e,t,r,n,a,o){var i=new DataView(o.buffer),l=r[e.idx[0]].width,c=r[e.idx[0]].height,d=Math.floor(l/8),u=Math.ceil(l/8),f=Math.ceil(c/8),p=l-(u-1)*8,h=c-(f-1)*8,m={value:0},g=[,,,],v=[,,,],b=[,,,],w=[,,,],y=[,,,];for(let r=0;r<3;++r)y[r]=t[e.idx[r]],g[r]=r<1?0:g[r-1]+u*f,v[r]=new Float32Array(64),b[r]=new Uint16Array(64),w[r]=new Uint16Array(64*u);for(let t=0;t<f;++t){var x,k,E=8;t==f-1&&(E=h);var M=8;for(let e=0;e<u;++e){e==u-1&&(M=p);for(let e=0;e<3;++e){b[e].fill(0),b[e][0]=a[g[e]++],function(e,t,r){for(var n,a=1;a<64;)65280==(n=t[e.value])?a=64:n>>8==255?a+=255&n:(r[a]=n,a++),e.value++}(m,n,b[e]),x=b[e],(k=v[e])[0]=C(x[0]),k[1]=C(x[1]),k[2]=C(x[5]),k[3]=C(x[6]),k[4]=C(x[14]),k[5]=C(x[15]),k[6]=C(x[27]),k[7]=C(x[28]),k[8]=C(x[2]),k[9]=C(x[4]),k[10]=C(x[7]),k[11]=C(x[13]),k[12]=C(x[16]),k[13]=C(x[26]),k[14]=C(x[29]),k[15]=C(x[42]),k[16]=C(x[3]),k[17]=C(x[8]),k[18]=C(x[12]),k[19]=C(x[17]),k[20]=C(x[25]),k[21]=C(x[30]),k[22]=C(x[41]),k[23]=C(x[43]),k[24]=C(x[9]),k[25]=C(x[11]),k[26]=C(x[18]),k[27]=C(x[24]),k[28]=C(x[31]),k[29]=C(x[40]),k[30]=C(x[44]),k[31]=C(x[53]),k[32]=C(x[10]),k[33]=C(x[19]),k[34]=C(x[23]),k[35]=C(x[32]),k[36]=C(x[39]),k[37]=C(x[45]),k[38]=C(x[52]),k[39]=C(x[54]),k[40]=C(x[20]),k[41]=C(x[22]),k[42]=C(x[33]),k[43]=C(x[38]),k[44]=C(x[46]),k[45]=C(x[51]),k[46]=C(x[55]),k[47]=C(x[60]),k[48]=C(x[21]),k[49]=C(x[34]),k[50]=C(x[37]),k[51]=C(x[47]),k[52]=C(x[50]),k[53]=C(x[56]),k[54]=C(x[59]),k[55]=C(x[61]),k[56]=C(x[35]),k[57]=C(x[36]),k[58]=C(x[48]),k[59]=C(x[49]),k[60]=C(x[57]),k[61]=C(x[58]),k[62]=C(x[62]),k[63]=C(x[63]),function(e){let t=.5*Math.cos(3.14159/16),r=.5*Math.cos(3.14159/8),n=.5*Math.cos(3*3.14159/16),a=.5*Math.cos(3*3.14159/8);for(var o=[,,,,],i=[,,,,],s=[,,,,],l=[,,,,],c=0;c<8;++c){var d=8*c;o[0]=r*e[d+2],o[1]=a*e[d+2],o[2]=r*e[d+6],o[3]=a*e[d+6],i[0]=t*e[d+1]+n*e[d+3]+.2777854612564676*e[d+5]+.09754573032714427*e[d+7],i[1]=n*e[d+1]-.09754573032714427*e[d+3]-t*e[d+5]-.2777854612564676*e[d+7],i[2]=.2777854612564676*e[d+1]-t*e[d+3]+.09754573032714427*e[d+5]+n*e[d+7],i[3]=.09754573032714427*e[d+1]-.2777854612564676*e[d+3]+n*e[d+5]-t*e[d+7],s[0]=.35355362513961314*(e[d+0]+e[d+4]),s[3]=.35355362513961314*(e[d+0]-e[d+4]),s[1]=o[0]+o[3],s[2]=o[1]-o[2],l[0]=s[0]+s[1],l[1]=s[3]+s[2],l[2]=s[3]-s[2],l[3]=s[0]-s[1],e[d+0]=l[0]+i[0],e[d+1]=l[1]+i[1],e[d+2]=l[2]+i[2],e[d+3]=l[3]+i[3],e[d+4]=l[3]-i[3],e[d+5]=l[2]-i[2],e[d+6]=l[1]-i[1],e[d+7]=l[0]-i[0]}for(var u=0;u<8;++u)o[0]=r*e[16+u],o[1]=a*e[16+u],o[2]=r*e[48+u],o[3]=a*e[48+u],i[0]=t*e[8+u]+n*e[24+u]+.2777854612564676*e[40+u]+.09754573032714427*e[56+u],i[1]=n*e[8+u]-.09754573032714427*e[24+u]-t*e[40+u]-.2777854612564676*e[56+u],i[2]=.2777854612564676*e[8+u]-t*e[24+u]+.09754573032714427*e[40+u]+n*e[56+u],i[3]=.09754573032714427*e[8+u]-.2777854612564676*e[24+u]+n*e[40+u]-t*e[56+u],s[0]=.35355362513961314*(e[u]+e[32+u]),s[3]=.35355362513961314*(e[u]-e[32+u]),s[1]=o[0]+o[3],s[2]=o[1]-o[2],l[0]=s[0]+s[1],l[1]=s[3]+s[2],l[2]=s[3]-s[2],l[3]=s[0]-s[1],e[0+u]=l[0]+i[0],e[8+u]=l[1]+i[1],e[16+u]=l[2]+i[2],e[24+u]=l[3]+i[3],e[32+u]=l[3]-i[3],e[40+u]=l[2]-i[2],e[48+u]=l[1]-i[1],e[56+u]=l[0]-i[0]}(v[e])}for(var _=v,P=0;P<64;++P){var S=_[0][P],O=_[1][P],T=_[2][P];_[0][P]=S+1.5747*T,_[1][P]=S-.1873*O-.4682*T,_[2][P]=S+1.8556*O}for(let t=0;t<3;++t)!function(e,t,r){for(var n,a=0;a<64;++a){t[r+a]=s.GxU.toHalfFloat((n=e[a])<=1?Math.sign(n)*Math.pow(Math.abs(n),2.2):Math.sign(n)*Math.pow(9.025013291561939,Math.abs(n)-1))}}(v[t],w[t],64*e)}let o=0;for(let n=0;n<3;++n){let a=r[e.idx[n]].type;for(let e=8*t;e<8*t+E;++e){o=y[n][e];for(let t=0;t<d;++t){let r=64*t+(7&e)*8;i.setUint16(o+0*a,w[n][r+0],!0),i.setUint16(o+2*a,w[n][r+1],!0),i.setUint16(o+4*a,w[n][r+2],!0),i.setUint16(o+6*a,w[n][r+3],!0),i.setUint16(o+8*a,w[n][r+4],!0),i.setUint16(o+10*a,w[n][r+5],!0),i.setUint16(o+12*a,w[n][r+6],!0),i.setUint16(o+14*a,w[n][r+7],!0),o+=16*a}}if(d!=u)for(let e=8*t;e<8*t+E;++e){let t=y[n][e]+8*d*2*a,r=64*d+(7&e)*8;for(let e=0;e<M;++e)i.setUint16(t+2*e*a,w[n][r+e],!0)}}}for(var A=new Uint16Array(l),i=new DataView(o.buffer),R=0;R<3;++R){r[e.idx[R]].decoded=!0;var I=r[e.idx[R]].type;if(2==r[R].type)for(var z=0;z<c;++z){let e=y[R][z];for(var U=0;U<l;++U)A[U]=i.getUint16(e+2*U*I,!0);for(var U=0;U<l;++U)i.setFloat32(e+2*U*I,C(A[U]),!0)}}}(x,U,m,_,A,n);for(var v=0;v<m.length;++v){var b=m[v];if(!b.decoded)if(2===b.compression)for(var D=0,H=0,j=0;j<e.lines;++j){for(var B=U[v][D],W=0;W<b.width;++W){for(var Y=0;Y<2*b.type;++Y)n[B++]=I[H+Y*b.width*b.height];H++}D++}else throw"EXRLoader.parse: unsupported channel compression"}return new DataView(n.buffer)}function E(e,t){for(var r=new Uint8Array(e),n=0;0!=r[t.value+n];)n+=1;var a=new TextDecoder().decode(r.slice(t.value,t.value+n));return t.value=t.value+n+1,a}function M(e,t){var r=e.getInt32(t.value,!0);return t.value=t.value+4,r}function _(e,t){var r=e.getUint32(t.value,!0);return t.value=t.value+4,r}function P(e,t){var r=e[t.value];return t.value=t.value+1,r}function S(e,t){var r=e.getUint8(t.value);return t.value=t.value+1,r}let O=function(e,t){let r;return r="getBigInt64"in DataView.prototype?Number(e.getBigInt64(t.value,!0)):e.getUint32(t.value+4,!0)+Number(e.getUint32(t.value,!0)<<32),t.value+=8,r};function T(e,t){var r=e.getFloat32(t.value,!0);return t.value+=4,r}function A(e,t){return s.GxU.toHalfFloat(T(e,t))}function C(e){var t=(31744&e)>>10,r=1023&e;return(e>>15?-1:1)*(t?31===t?r?NaN:1/0:Math.pow(2,t-15)*(1+r/1024):r/1024*6103515625e-14)}function R(e,t){var r=e.getUint16(t.value,!0);return t.value+=2,r}function I(e,t){return C(R(e,t))}let z=new DataView(e),U=new Uint8Array(e),j={value:0},L=function(e,t,r){let n={};if(0x1312f76!=e.getUint32(0,!0))throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";n.version=e.getUint8(4);let a=e.getUint8(5);n.spec={singleTile:!!(2&a),longName:!!(4&a),deepFormat:!!(8&a),multiPart:!!(16&a)},r.value=8;for(var o=!0;o;){var i=E(t,r);if(0==i)o=!1;else{var s=E(t,r),l=_(e,r),c=function(e,t,r,n,a){var o,i,s,l,c,d,u;if("string"===n||"stringvector"===n||"iccProfile"===n)return o=new TextDecoder().decode(new Uint8Array(t).slice(r.value,r.value+a)),r.value=r.value+a,o;if("chlist"===n)return function(e,t,r,n){for(var a=r.value,o=[];r.value<a+n-1;){var i=E(t,r),s=M(e,r),l=S(e,r);r.value+=3;var c=M(e,r),d=M(e,r);o.push({name:i,pixelType:s,pLinear:l,xSampling:c,ySampling:d})}return r.value+=1,o}(e,t,r,a);if("chromaticities"===n)return i=T(e,r),s=T(e,r),l=T(e,r),c=T(e,r),d=T(e,r),{redX:i,redY:s,greenX:l,greenY:c,blueX:d,blueY:T(e,r),whiteX:T(e,r),whiteY:T(e,r)};if("compression"===n)return["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"][S(e,r)];if("box2i"===n)return u=_(e,r),{xMin:u,yMin:_(e,r),xMax:_(e,r),yMax:_(e,r)};else if("lineOrder"===n)return["INCREASING_Y"][S(e,r)];else if("float"===n)return T(e,r);else if("v2f"===n)return[T(e,r),T(e,r)];else if("v3f"===n)return[T(e,r),T(e,r),T(e,r)];else if("int"===n)return M(e,r);else if("rational"===n)return[M(e,r),_(e,r)];else if("timecode"===n)return[_(e,r),_(e,r)];else return"preview"===n?(r.value+=a,"skipped"):(r.value+=a,void 0)}(e,t,r,s,l);void 0===c?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${s}'.`):n[i]=c}}if((-5&a)!=0)throw console.error("EXRHeader:",n),"THREE.EXRLoader: provided file is currently unsupported.";return n}(z,e,j),N=function(e,t,r,n,a){let o={size:0,viewer:t,array:r,offset:n,width:e.dataWindow.xMax-e.dataWindow.xMin+1,height:e.dataWindow.yMax-e.dataWindow.yMin+1,channels:e.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:e.channels[0].pixelType,uncompress:null,getter:null,format:null,[D?"colorSpace":"encoding"]:null};switch(e.compression){case"NO_COMPRESSION":o.lines=1,o.uncompress=v;break;case"RLE_COMPRESSION":o.lines=1,o.uncompress=b;break;case"ZIPS_COMPRESSION":o.lines=1,o.uncompress=w;break;case"ZIP_COMPRESSION":o.lines=16,o.uncompress=w;break;case"PIZ_COMPRESSION":o.lines=32,o.uncompress=y;break;case"PXR24_COMPRESSION":o.lines=16,o.uncompress=x;break;case"DWAA_COMPRESSION":o.lines=32,o.uncompress=k;break;case"DWAB_COMPRESSION":o.lines=256,o.uncompress=k;break;default:throw"EXRLoader.parse: "+e.compression+" is unsupported"}if(o.scanlineBlockSize=o.lines,1==o.type)switch(a){case s.RQf:o.getter=I,o.inputSize=2;break;case s.ix0:o.getter=R,o.inputSize=2}else if(2==o.type)switch(a){case s.RQf:o.getter=T,o.inputSize=4;break;case s.ix0:o.getter=A,o.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+o.type+" for "+e.compression+".";o.blockCount=(e.dataWindow.yMax+1)/o.scanlineBlockSize;for(var i=0;i<o.blockCount;i++)O(t,n);o.outputChannels=3==o.channels?4:o.channels;let l=o.width*o.height*o.outputChannels;switch(a){case s.RQf:o.byteArray=new Float32Array(l),o.channels<o.outputChannels&&o.byteArray.fill(1,0,l);break;case s.ix0:o.byteArray=new Uint16Array(l),o.channels<o.outputChannels&&o.byteArray.fill(15360,0,l);break;default:console.error("THREE.EXRLoader: unsupported type: ",a)}return o.bytesPerLine=o.width*o.inputSize*o.channels,4==o.outputChannels?o.format=s.GWd:o.format=s.VT0,D?o.colorSpace="srgb-linear":o.encoding=3e3,o}(L,z,U,j,this.type),H={value:0},B={R:0,G:1,B:2,A:3,Y:0};for(let e=0;e<N.height/N.scanlineBlockSize;e++){let t=_(z,j);N.size=_(z,j),N.lines=t+N.scanlineBlockSize>N.height?N.height-t:N.scanlineBlockSize;let r=N.size<N.lines*N.bytesPerLine?N.uncompress(N):v(N);j.value+=N.size;for(let t=0;t<N.scanlineBlockSize;t++){let n=t+e*N.scanlineBlockSize;if(n>=N.height)break;for(let e=0;e<N.channels;e++){let a=B[L.channels[e].name];for(let o=0;o<N.width;o++){H.value=(t*(N.channels*N.width)+e*N.width+o)*N.inputSize;let i=(N.height-1-n)*(N.width*N.outputChannels)+o*N.outputChannels+a;N.byteArray[i]=N.getter(r,H)}}}}return{header:L,width:N.width,height:N.height,data:N.byteArray,format:N.format,[D?"colorSpace":"encoding"]:N[D?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,r,n){return super.load(e,function(e,r){D?e.colorSpace=r.colorSpace:e.encoding=r.encoding,e.minFilter=s.k6q,e.magFilter=s.k6q,e.generateMipmaps=!1,e.flipY=!1,t&&t(e,r)},r,n)}}var B=r(7548);let W=(e,t,r)=>{let n;switch(e){case s.OUM:n=new Uint8ClampedArray(t*r*4);break;case s.ix0:n=new Uint16Array(t*r*4);break;case s.bkx:n=new Uint32Array(t*r*4);break;case s.tJf:n=new Int8Array(t*r*4);break;case s.fBL:n=new Int16Array(t*r*4);break;case s.Yuy:n=new Int32Array(t*r*4);break;case s.RQf:n=new Float32Array(t*r*4);break;default:throw Error("Unsupported data type")}return n};class Y{_renderer;_rendererIsDisposable=!1;_material;_scene;_camera;_quad;_renderTarget;_width;_height;_type;_colorSpace;_supportsReadPixels=!0;constructor(e){this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;let t={format:s.GWd,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:e.renderTargetOptions?.anisotropy!==void 0?e.renderTargetOptions?.anisotropy:1,generateMipmaps:e.renderTargetOptions?.generateMipmaps!==void 0&&e.renderTargetOptions?.generateMipmaps,magFilter:e.renderTargetOptions?.magFilter!==void 0?e.renderTargetOptions?.magFilter:s.k6q,minFilter:e.renderTargetOptions?.minFilter!==void 0?e.renderTargetOptions?.minFilter:s.k6q,samples:e.renderTargetOptions?.samples!==void 0?e.renderTargetOptions?.samples:void 0,wrapS:e.renderTargetOptions?.wrapS!==void 0?e.renderTargetOptions?.wrapS:s.ghU,wrapT:e.renderTargetOptions?.wrapT!==void 0?e.renderTargetOptions?.wrapT:s.ghU};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=Y.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new s.Z58,this._camera=new s.qUd,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!((e,t,r,a)=>{if(void 0!==n)return n;let o=new s.nWS(1,1,a);t.setRenderTarget(o);let i=new s.eaF(new s.bdM,new s.V9B({color:0xffffff}));t.render(i,r),t.setRenderTarget(null);let l=W(e,o.width,o.height);return t.readRenderTargetPixels(o,0,0,o.width,o.height,l),o.dispose(),i.geometry.dispose(),i.material.dispose(),n=0!==l[0]})(this._type,this._renderer,this._camera,t)){let e;this._type===s.ix0&&(e=this._renderer.extensions.has("EXT_color_buffer_float")?s.RQf:void 0),void 0!==e?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${s.RQf}`),this._type=e):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new s.eaF(new s.bdM,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new s.nWS(this.width,this.height,t),this._renderTarget.texture.mapping=e.renderTargetOptions?.mapping!==void 0?e.renderTargetOptions?.mapping:s.UTZ}static instantiateRenderer(){let e=new B.WebGLRenderer;return e.setSize(128,128),e}render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(e){throw this._renderer.setRenderTarget(null),e}this._renderer.setRenderTarget(null)};toArray(){if(!this._supportsReadPixels)throw Error("Can't read pixels in this browser");let e=W(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){let t=new s.GYF(this.toArray(),this.width,this.height,s.GWd,this._type,e?.mapping||s.UTZ,e?.wrapS||s.ghU,e?.wrapT||s.ghU,e?.magFilter||s.k6q,e?.minFilter||s.k6q,e?.anisotropy||1,s.Zr2);return t.generateMipmaps=e?.generateMipmaps!==void 0&&e?.generateMipmaps,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof s.BKk&&Object.values(this.material.uniforms).forEach(e=>{e.value instanceof s.gPd&&e.value.dispose()}),Object.values(this.material).forEach(e=>{e instanceof s.gPd&&e.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}class q extends Error{}class G extends Error{}let $=(e,t,r)=>{let n=RegExp(`${t}="([^"]*)"`,"i").exec(e);if(n)return n[1];let a=RegExp(`<${t}[^>]*>([\\s\\S]*?)</${t}>`,"i").exec(e);if(a){let e=a[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return e&&3===e.length?e.map(e=>e.replace(/<\/?rdf:li>/g,"")):a[1].trim()}if(void 0!==r)return r;throw Error(`Can't find ${t} in gainmap metadata`)};class V{options;constructor(e){this.options={debug:!!e&&void 0!==e.debug&&e.debug,extractFII:!e||void 0===e.extractFII||e.extractFII,extractNonFII:!e||void 0===e.extractNonFII||e.extractNonFII}}extract(e){return new Promise((t,r)=>{let n,a=this.options.debug,o=new DataView(e.buffer);if(65496!==o.getUint16(0))return void r(Error("Not a valid jpeg"));let i=o.byteLength,s=2,l=0;for(;s<i;){if(++l>250)return void r(Error(`Found no marker after ${l} loops ðŸ˜µ`));if(255!==o.getUint8(s))return void r(Error(`Not a valid marker at offset 0x${s.toString(16)}, found: 0x${o.getUint8(s).toString(16)}`));if(n=o.getUint8(s+1),a&&console.log(`Marker: ${n.toString(16)}`),226===n){a&&console.log("Found APP2 marker (0xffe2)");let e=s+4;if(0x4d504600===o.getUint32(e)){let n,a=e+4;if(18761===o.getUint16(a))n=!1;else{if(19789!==o.getUint16(a))return void r(Error("No valid endianness marker found in TIFF header"));n=!0}if(42!==o.getUint16(a+2,!n))return void r(Error("Not valid TIFF data! (no 0x002A marker)"));let i=o.getUint32(a+4,!n);if(i<8)return void r(Error("Not valid TIFF data! (First offset less than 8)"));let s=a+i,l=o.getUint16(s,!n),c=s+2,d=0;for(let e=c;e<c+12*l;e+=12)45057===o.getUint16(e,!n)&&(d=o.getUint32(e+8,!n));let u=s+2+12*l+4,f=[];for(let e=u;e<u+16*d;e+=16){let t={MPType:o.getUint32(e,!n),size:o.getUint32(e+4,!n),dataOffset:o.getUint32(e+8,!n),dependantImages:o.getUint32(e+12,!n),start:-1,end:-1,isFII:!1};t.dataOffset?(t.start=a+t.dataOffset,t.isFII=!1):(t.start=0,t.isFII=!0),t.end=t.start+t.size,f.push(t)}if(this.options.extractNonFII&&f.length){let e=new Blob([o]),r=[];for(let t of f){if(t.isFII&&!this.options.extractFII)continue;let n=e.slice(t.start,t.end+1,"image/jpeg");r.push(n)}t(r)}}}s+=2+o.getUint16(s+2)}})}}let X=async e=>{let t=(e=>{let t,r=(t="undefined"!=typeof TextDecoder?new TextDecoder().decode(e):e.toString()).indexOf("<x:xmpmeta");for(;-1!==r;){let e=t.indexOf("x:xmpmeta>",r),n=t.slice(r,e+10);try{let e=$(n,"hdrgm:GainMapMin","0"),t=$(n,"hdrgm:GainMapMax"),r=$(n,"hdrgm:Gamma","1"),a=$(n,"hdrgm:OffsetSDR","0.015625"),o=$(n,"hdrgm:OffsetHDR","0.015625"),i=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(n),s=i?i[1]:"0",l=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(n);if(!l)throw Error("Incomplete gainmap metadata");let c=l[1];return{gainMapMin:Array.isArray(e)?e.map(e=>parseFloat(e)):[parseFloat(e),parseFloat(e),parseFloat(e)],gainMapMax:Array.isArray(t)?t.map(e=>parseFloat(e)):[parseFloat(t),parseFloat(t),parseFloat(t)],gamma:Array.isArray(r)?r.map(e=>parseFloat(e)):[parseFloat(r),parseFloat(r),parseFloat(r)],offsetSdr:Array.isArray(a)?a.map(e=>parseFloat(e)):[parseFloat(a),parseFloat(a),parseFloat(a)],offsetHdr:Array.isArray(o)?o.map(e=>parseFloat(e)):[parseFloat(o),parseFloat(o),parseFloat(o)],hdrCapacityMin:parseFloat(s),hdrCapacityMax:parseFloat(c)}}catch(e){}r=t.indexOf("<x:xmpmeta",e)}})(e);if(!t)throw new G("Gain map XMP metadata not found");let r=new V({extractFII:!0,extractNonFII:!0}),n=await r.extract(e);if(2!==n.length)throw new q("Gain map recovery image not found");return{sdr:new Uint8Array(await n[0].arrayBuffer()),gainMap:new Uint8Array(await n[1].arrayBuffer()),metadata:t}},Z=e=>new Promise((t,r)=>{let n=document.createElement("img");n.onload=()=>{t(n)},n.onerror=e=>{r(e)},n.src=URL.createObjectURL(e)});class K extends s.aHM{_renderer;_renderTargetOptions;_internalLoadingManager;_config;constructor(e,t){super(t),this._config=e,e.renderer&&(this._renderer=e.renderer),this._internalLoadingManager=new s.KPJ}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: A Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");let e=this._config.createMaterial({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new s.gPd,sdr:new s.gPd});return this._config.createQuadRenderer({width:16,height:16,type:s.ix0,colorSpace:s.Zr2,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async processImages(e,t,r){let n,a,o=t?new Blob([t],{type:"image/jpeg"}):void 0,i=new Blob([e],{type:"image/jpeg"}),s=!1;if("undefined"==typeof createImageBitmap){let e=await Promise.all([o?Z(o):Promise.resolve(void 0),Z(i)]);a=e[0],n=e[1],s="flipY"===r}else{let e=await Promise.all([o?createImageBitmap(o,{imageOrientation:r||"flipY"}):Promise.resolve(void 0),createImageBitmap(i,{imageOrientation:r||"flipY"})]);a=e[0],n=e[1]}return{sdrImage:n,gainMapImage:a,needsFlip:s}}createTextures(e,t,r){let n=new s.gPd(t||new ImageData(2,2),s.UTZ,s.ghU,s.ghU,s.k6q,s.NZq,s.GWd,s.OUM,1,s.Zr2);n.flipY=r,n.needsUpdate=!0;let a=new s.gPd(e,s.UTZ,s.ghU,s.ghU,s.k6q,s.NZq,s.GWd,s.OUM,1,s.er$);return a.flipY=r,a.needsUpdate=!0,{gainMap:n,sdr:a}}updateQuadRenderer(e,t,r,n,a){e.width=t.width,e.height=t.height,e.material.gainMap=r,e.material.sdr=n,e.material.gainMapMin=a.gainMapMin,e.material.gainMapMax=a.gainMapMax,e.material.offsetHdr=a.offsetHdr,e.material.offsetSdr=a.offsetSdr,e.material.gamma=a.gamma,e.material.hdrCapacityMin=a.hdrCapacityMin,e.material.hdrCapacityMax=a.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,a.hdrCapacityMax),e.material.needsUpdate=!0}}let Q=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,J=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class ee extends s.BKk{_maxDisplayBoost;_hdrCapacityMin;_hdrCapacityMax;constructor({gamma:e,offsetHdr:t,offsetSdr:r,gainMapMin:n,gainMapMax:a,maxDisplayBoost:o,hdrCapacityMin:i,hdrCapacityMax:l,sdr:c,gainMap:d}){super({name:"GainMapDecoderMaterial",vertexShader:Q,fragmentShader:J,uniforms:{sdr:{value:c},gainMap:{value:d},gamma:{value:new s.Pq0(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new s.Pq0().fromArray(t)},offsetSdr:{value:new s.Pq0().fromArray(r)},gainMapMin:{value:new s.Pq0().fromArray(n)},gainMapMax:{value:new s.Pq0().fromArray(a)},weightFactor:{value:(Math.log2(o)-i)/(l-i)}},blending:s.XIg,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=o,this._hdrCapacityMin=i,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){let e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){let t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){let e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}!B.WebGLRenderer;class et extends K{constructor(e,t){super({renderer:e,createMaterial:e=>new ee(e),createQuadRenderer:e=>new Y(e)},t)}async render(e,t,r,n){let{sdrImage:a,gainMapImage:o,needsFlip:i}=await this.processImages(r,n,"flipY"),{gainMap:s,sdr:l}=this.createTextures(a,o,i);this.updateQuadRenderer(e,a,s,l,t),e.render()}}class er extends et{load([e,t,r],n,a,o){let i,l,c,d=this.prepareQuadRenderer(),u=async()=>{if(i&&l&&c){try{await this.render(d,c,i,l)}catch(n){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(r),"function"==typeof o&&o(n),d.disposeOnDemandRenderer();return}"function"==typeof n&&n(d),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(r),d.disposeOnDemandRenderer()}},f=!0,p=0,h=0,m=!0,g=0,v=0,b=!0,w=0,y=0,x=()=>{"function"==typeof a&&a(new ProgressEvent("progress",{lengthComputable:f&&m&&b,loaded:h+v+y,total:p+g+w}))};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(r);let k=new s.Y9S(this._internalLoadingManager);k.setResponseType("arraybuffer"),k.setRequestHeader(this.requestHeader),k.setPath(this.path),k.setWithCredentials(this.withCredentials),k.load(e,async e=>{if("string"==typeof e)throw Error("Invalid sdr buffer");i=e,await u()},e=>{f=e.lengthComputable,h=e.loaded,p=e.total,x()},t=>{this.manager.itemError(e),"function"==typeof o&&o(t)});let E=new s.Y9S(this._internalLoadingManager);E.setResponseType("arraybuffer"),E.setRequestHeader(this.requestHeader),E.setPath(this.path),E.setWithCredentials(this.withCredentials),E.load(t,async e=>{if("string"==typeof e)throw Error("Invalid gainmap buffer");l=e,await u()},e=>{m=e.lengthComputable,v=e.loaded,g=e.total,x()},e=>{this.manager.itemError(t),"function"==typeof o&&o(e)});let M=new s.Y9S(this._internalLoadingManager);return M.setRequestHeader(this.requestHeader),M.setPath(this.path),M.setWithCredentials(this.withCredentials),M.load(r,async e=>{if("string"!=typeof e)throw Error("Invalid metadata string");c=JSON.parse(e),await u()},e=>{b=e.lengthComputable,y=e.loaded,w=e.total,x()},e=>{this.manager.itemError(r),"function"==typeof o&&o(e)}),d}}class en extends et{load(e,t,r,n){let a=this.prepareQuadRenderer(),o=new s.Y9S(this._internalLoadingManager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(this.withCredentials),this.manager.itemStart(e),o.load(e,async r=>{let o,i,s;if("string"==typeof r)throw Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");let l=new Uint8Array(r);try{let e=await X(l);o=e.sdr,i=e.gainMap,s=e.metadata}catch(t){if(t instanceof G||t instanceof q)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),s={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},o=l;else throw t}try{await this.render(a,s,o.buffer,i?.buffer)}catch(t){this.manager.itemError(e),"function"==typeof n&&n(t),a.disposeOnDemandRenderer();return}"function"==typeof t&&t(a),this.manager.itemEnd(e),a.disposeOnDemandRenderer()},r,t=>{this.manager.itemError(e),"function"==typeof n&&n(t)}),a}}let ea={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},eo="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",ei=e=>Array.isArray(e),es=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function el({files:e=es,path:t="",preset:r,colorSpace:n,extensions:a}={}){r&&(eu(r),e=ea[r],t=eo);let l=ei(e),{extension:c,isCubemap:d}=ef(e),u=ep(c);if(!u)throw Error("useEnvironment: Unrecognized file extension: "+e);let f=(0,i.C)(e=>e.gl);(0,o.useLayoutEffect)(()=>{("webp"===c||"jpg"===c||"jpeg"===c)&&f.domElement.addEventListener("webglcontextlost",function(){i.G.clear(u,l?[e]:e)},{once:!0})},[e,f.domElement]);let p=(0,i.G)(u,l?[e]:e,e=>{("webp"===c||"jpg"===c||"jpeg"===c)&&e.setRenderer(f),null==e.setPath||e.setPath(t),a&&a(e)}),h=l?p[0]:p;if("jpg"===c||"jpeg"===c||"webp"===c){var m;h=null==(m=h.renderTarget)?void 0:m.texture}return h.mapping=d?s.hy7:s.wfO,h.colorSpace=null!=n?n:d?"srgb":"srgb-linear",h}let ec={files:es,path:"",preset:void 0,extensions:void 0};el.preload=e=>{let t={...ec,...e},{files:r,path:n=""}=t,{preset:a,extensions:o}=t;a&&(eu(a),r=ea[a],n=eo);let{extension:s}=ef(r);if("webp"===s||"jpg"===s||"jpeg"===s)throw Error("useEnvironment: Preloading gainmaps is not supported");let l=ep(s);if(!l)throw Error("useEnvironment: Unrecognized file extension: "+r);i.G.preload(l,ei(r)?[r]:r,e=>{null==e.setPath||e.setPath(n),o&&o(e)})};let ed={files:es,preset:void 0};function eu(e){if(!(e in ea))throw Error("Preset must be one of: "+Object.keys(ea).join(", "))}function ef(e){var t;let r=ei(e)&&6===e.length,n=ei(e)&&3===e.length&&e.some(e=>e.endsWith("json")),a=ei(e)?e[0]:e;return{extension:r?"cube":n?"webp":a.startsWith("data:application/exr")?"exr":a.startsWith("data:application/hdr")?"hdr":a.startsWith("data:image/jpeg")?"jpg":null==(t=a.split(".").pop())||null==(t=t.split("?"))||null==(t=t.shift())?void 0:t.toLowerCase(),isCubemap:r,isGainmap:n}}function ep(e){return"cube"===e?s.ScU:"hdr"===e?d:"exr"===e?H:"jpg"===e||"jpeg"===e?en:"webp"===e?er:null}function eh(e,t,r,n,a={}){var o,s,l,c;let d,u;a={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...a};let f=(u=d=t||r).current&&u.current.isScene?d.current:d,p=f.background,h=f.environment,m={backgroundBlurriness:f.backgroundBlurriness,backgroundIntensity:f.backgroundIntensity,backgroundRotation:null!=(o=null==(s=f.backgroundRotation)||null==s.clone?void 0:s.clone())?o:[0,0,0],environmentIntensity:f.environmentIntensity,environmentRotation:null!=(l=null==(c=f.environmentRotation)||null==c.clone?void 0:c.clone())?l:[0,0,0]};return"only"!==e&&(f.environment=n),e&&(f.background=n),(0,i.s)(f,a),()=>{"only"!==e&&(f.environment=h),e&&(f.background=p),(0,i.s)(f,m)}}function em({scene:e,background:t=!1,map:r,...n}){let a=(0,i.C)(e=>e.scene);return o.useLayoutEffect(()=>{if(r)return eh(t,e,a,r,n)}),null}function eg({background:e=!1,scene:t,blur:r,backgroundBlurriness:n,backgroundIntensity:a,backgroundRotation:s,environmentIntensity:l,environmentRotation:c,...d}){let u=el(d),f=(0,i.C)(e=>e.scene);return o.useLayoutEffect(()=>eh(e,t,f,u,{backgroundBlurriness:null!=r?r:n,backgroundIntensity:a,backgroundRotation:s,environmentIntensity:l,environmentRotation:c})),o.useEffect(()=>()=>{u.dispose()},[u]),null}function ev({children:e,near:t=.1,far:r=1e3,resolution:n=256,frames:a=1,map:l,background:c=!1,blur:d,backgroundBlurriness:u,backgroundIntensity:f,backgroundRotation:p,environmentIntensity:h,environmentRotation:m,scene:g,files:v,path:b,preset:w,extensions:y}){let x=(0,i.C)(e=>e.gl),k=(0,i.C)(e=>e.scene),E=o.useRef(null),[M]=o.useState(()=>new s.Z58),_=o.useMemo(()=>{let e=new s.o6l(n);return e.texture.type=s.ix0,e},[n]);o.useEffect(()=>()=>{_.dispose()},[_]),o.useLayoutEffect(()=>{if(1===a){let e=x.autoClear;x.autoClear=!0,E.current.update(x,M),x.autoClear=e}return eh(c,g,k,_.texture,{backgroundBlurriness:null!=d?d:u,backgroundIntensity:f,backgroundRotation:p,environmentIntensity:h,environmentRotation:m})},[e,M,_.texture,g,k,c,a,x]);let P=1;return(0,i.D)(()=>{if(a===1/0||P<a){let e=x.autoClear;x.autoClear=!0,E.current.update(x,M),x.autoClear=e,P++}}),o.createElement(o.Fragment,null,(0,i.o)(o.createElement(o.Fragment,null,e,o.createElement("cubeCamera",{ref:E,args:[t,r,_]}),v||w?o.createElement(eg,{background:!0,files:v,preset:w,path:b,extensions:y}):l?o.createElement(em,{background:!0,map:l,extensions:y}):null),M))}function eb(e){var t,r,n,s;let l=el(e),d=e.map||l;o.useMemo(()=>(0,i.e)({GroundProjectedEnvImpl:c}),[]),o.useEffect(()=>()=>{l.dispose()},[l]);let u=o.useMemo(()=>[d],[d]),f=null==(t=e.ground)?void 0:t.height,p=null==(r=e.ground)?void 0:r.radius,h=null!=(n=null==(s=e.ground)?void 0:s.scale)?n:1e3;return o.createElement(o.Fragment,null,o.createElement(em,(0,a.A)({},e,{map:d})),o.createElement("groundProjectedEnvImpl",{args:u,scale:h,height:f,radius:p}))}function ew(e){return e.ground?o.createElement(eb,e):e.map?o.createElement(em,e):e.children?o.createElement(ev,e):o.createElement(eg,e)}el.clear=e=>{let t={...ed,...e},{files:r}=t,{preset:n}=t;n&&(eu(n),r=ea[n]);let{extension:a}=ef(r),o=ep(a);if(!o)throw Error("useEnvironment: Unrecognized file extension: "+r);i.G.clear(o,ei(r)?[r]:r)}},2821:(e,t,r)=>{r.d(t,{$:()=>n});function n(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=function e(t){var r,n,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t)){var o=t.length;for(r=0;r<o;r++)t[r]&&(n=e(t[r]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}(e))&&(n&&(n+=" "),n+=t);return n}},3646:(e,t,r)=>{let n,a;r.d(t,{E:()=>w});var o=r(8945),i=r(2115),s=r(2669),l=r(5339),c=r(264);let d=new l.Pq0,u=new l.Pq0,f=new l.Pq0,p=new l.I9Y;function h(e,t,r){let n=d.setFromMatrixPosition(e.matrixWorld);n.project(t);let a=r.width/2,o=r.height/2;return[n.x*a+a,-(n.y*o)+o]}let m=e=>1e-10>Math.abs(e)?0:e;function g(e,t,r=""){let n="matrix3d(";for(let r=0;16!==r;r++)n+=m(t[r]*e.elements[r])+(15!==r?",":")");return r+n}let v=(n=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>g(e,n)),b=(a=e=>[1/e,1/e,1/e,1,-1/e,-1/e,-1/e,-1,1/e,1/e,1/e,1,1,1,1,1],(e,t)=>g(e,a(t),"translate(-50%,-50%)")),w=i.forwardRef(({children:e,eps:t=.001,style:r,className:n,prepend:a,center:g,fullscreen:w,portal:y,distanceFactor:x,sprite:k=!1,transform:E=!1,occlude:M,onOcclude:_,castShadow:P,receiveShadow:S,material:O,geometry:T,zIndexRange:A=[0x1000037,0],calculatePosition:C=h,as:R="div",wrapperClass:I,pointerEvents:z="auto",...U},j)=>{let{gl:L,camera:F,scene:N,size:D,raycaster:H,events:B,viewport:W}=(0,c.C)(),[Y]=i.useState(()=>document.createElement(R)),q=i.useRef(null),G=i.useRef(null),$=i.useRef(0),V=i.useRef([0,0]),X=i.useRef(null),Z=i.useRef(null),K=(null==y?void 0:y.current)||B.connected||L.domElement.parentNode,Q=i.useRef(null),J=i.useRef(!1),ee=i.useMemo(()=>M&&"blending"!==M||Array.isArray(M)&&M.length&&function(e){return e&&"object"==typeof e&&"current"in e}(M[0]),[M]);i.useLayoutEffect(()=>{let e=L.domElement;M&&"blending"===M?(e.style.zIndex=`${Math.floor(A[0]/2)}`,e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)},[M]),i.useLayoutEffect(()=>{if(G.current){let e=q.current=s.createRoot(Y);if(N.updateMatrixWorld(),E)Y.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{let e=C(G.current,F,D);Y.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${e[0]}px,${e[1]}px,0);transform-origin:0 0;`}return K&&(a?K.prepend(Y):K.appendChild(Y)),()=>{K&&K.removeChild(Y),e.unmount()}}},[K,E]),i.useLayoutEffect(()=>{I&&(Y.className=I)},[I]);let et=i.useMemo(()=>E?{position:"absolute",top:0,left:0,width:D.width,height:D.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:g?"translate3d(-50%,-50%,0)":"none",...w&&{top:-D.height/2,left:-D.width/2,width:D.width,height:D.height},...r},[r,g,w,D,E]),er=i.useMemo(()=>({position:"absolute",pointerEvents:z}),[z]);i.useLayoutEffect(()=>{var t,a;J.current=!1,E?null==(t=q.current)||t.render(i.createElement("div",{ref:X,style:et},i.createElement("div",{ref:Z,style:er},i.createElement("div",{ref:j,className:n,style:r,children:e})))):null==(a=q.current)||a.render(i.createElement("div",{ref:j,style:et,className:n,children:e}))});let en=i.useRef(!0);(0,c.D)(e=>{if(G.current){F.updateMatrixWorld(),G.current.updateWorldMatrix(!0,!1);let e=E?V.current:C(G.current,F,D);if(E||Math.abs($.current-F.zoom)>t||Math.abs(V.current[0]-e[0])>t||Math.abs(V.current[1]-e[1])>t){let t=function(e,t){let r=d.setFromMatrixPosition(e.matrixWorld),n=u.setFromMatrixPosition(t.matrixWorld),a=r.sub(n),o=t.getWorldDirection(f);return a.angleTo(o)>Math.PI/2}(G.current,F),r=!1;ee&&(Array.isArray(M)?r=M.map(e=>e.current):"blending"!==M&&(r=[N]));let n=en.current;r?en.current=function(e,t,r,n){let a=d.setFromMatrixPosition(e.matrixWorld),o=a.clone();o.project(t),p.set(o.x,o.y),r.setFromCamera(p,t);let i=r.intersectObjects(n,!0);if(i.length){let e=i[0].distance;return a.distanceTo(r.ray.origin)<e}return!0}(G.current,F,H,r)&&!t:en.current=!t,n!==en.current&&(_?_(!en.current):Y.style.display=en.current?"block":"none");let a=Math.floor(A[0]/2),o=M?ee?[A[0],a]:[a-1,0]:A;if(Y.style.zIndex=`${function(e,t,r){if(t instanceof l.ubm||t instanceof l.qUd){let n=d.setFromMatrixPosition(e.matrixWorld),a=u.setFromMatrixPosition(t.matrixWorld),o=n.distanceTo(a),i=(r[1]-r[0])/(t.far-t.near),s=r[1]-i*t.far;return Math.round(i*o+s)}}(G.current,F,o)}`,E){let[e,t]=[D.width/2,D.height/2],r=F.projectionMatrix.elements[5]*t,{isOrthographicCamera:n,top:a,left:o,bottom:i,right:s}=F,l=v(F.matrixWorldInverse),c=n?`scale(${r})translate(${m(-(s+o)/2)}px,${m((a+i)/2)}px)`:`translateZ(${r}px)`,d=G.current.matrixWorld;k&&((d=F.matrixWorldInverse.clone().transpose().copyPosition(d).scale(G.current.scale)).elements[3]=d.elements[7]=d.elements[11]=0,d.elements[15]=1),Y.style.width=D.width+"px",Y.style.height=D.height+"px",Y.style.perspective=n?"":`${r}px`,X.current&&Z.current&&(X.current.style.transform=`${c}${l}translate(${e}px,${t}px)`,Z.current.style.transform=b(d,1/((x||10)/400)))}else{let t=void 0===x?1:function(e,t){if(t instanceof l.qUd)return t.zoom;if(!(t instanceof l.ubm))return 1;{let r=d.setFromMatrixPosition(e.matrixWorld),n=u.setFromMatrixPosition(t.matrixWorld);return 1/(2*Math.tan(t.fov*Math.PI/180/2)*r.distanceTo(n))}}(G.current,F)*x;Y.style.transform=`translate3d(${e[0]}px,${e[1]}px,0) scale(${t})`}V.current=e,$.current=F.zoom}}if(!ee&&Q.current&&!J.current)if(E){if(X.current){let e=X.current.children[0];if(null!=e&&e.clientWidth&&null!=e&&e.clientHeight){let{isOrthographicCamera:t}=F;if(t||T)U.scale&&(Array.isArray(U.scale)?U.scale instanceof l.Pq0?Q.current.scale.copy(U.scale.clone().divideScalar(1)):Q.current.scale.set(1/U.scale[0],1/U.scale[1],1/U.scale[2]):Q.current.scale.setScalar(1/U.scale));else{let t=(x||10)/400,r=e.clientWidth*t,n=e.clientHeight*t;Q.current.scale.set(r,n,1)}J.current=!0}}}else{let t=Y.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){let e=1/W.factor,r=t.clientWidth*e,n=t.clientHeight*e;Q.current.scale.set(r,n,1),J.current=!0}Q.current.lookAt(e.camera.position)}});let ea=i.useMemo(()=>({vertexShader:E?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[E]);return i.createElement("group",(0,o.A)({},U,{ref:G}),M&&!ee&&i.createElement("mesh",{castShadow:P,receiveShadow:S,ref:Q},T||i.createElement("planeGeometry",null),O||i.createElement("shaderMaterial",{side:l.$EB,vertexShader:ea.vertexShader,fragmentShader:ea.fragmentShader})))})},3654:(e,t,r)=>{var n=r(2115),a=r(4806),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=a.useSyncExternalStore,s=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var u=s(null);if(null===u.current){var f={hasValue:!1,value:null};u.current=f}else f=u.current;var p=i(e,(u=c(function(){function e(e){if(!l){if(l=!0,i=e,e=n(e),void 0!==a&&f.hasValue){var t=f.value;if(a(t,e))return s=t}return s=e}if(t=s,o(i,e))return t;var r=n(e);return void 0!==a&&a(t,r)?(i=e,t):(i=e,s=r)}var i,s,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,a]))[0],u[1]);return l(function(){f.hasValue=!0,f.value=p},[p]),d(p),p}},3689:(e,t,r)=>{r.d(t,{DY:()=>i,IU:()=>l,uv:()=>s});let n=[];function a(e,t,r=(e,t)=>e===t){if(e===t)return!0;if(!e||!t)return!1;let n=e.length;if(t.length!==n)return!1;for(let a=0;a<n;a++)if(!r(e[a],t[a]))return!1;return!0}function o(e,t=null,r=!1,i={}){for(let o of(null===t&&(t=[e]),n))if(a(t,o.keys,o.equal)){if(r)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return i.lifespan&&i.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,i.lifespan)),o.response;if(!r)throw o.promise}let s={keys:t,equal:i.equal,remove:()=>{let e=n.indexOf(s);-1!==e&&n.splice(e,1)},promise:("object"==typeof e&&"function"==typeof e.then?e:e(...t)).then(e=>{s.response=e,i.lifespan&&i.lifespan>0&&(s.timeout=setTimeout(s.remove,i.lifespan))}).catch(e=>s.error=e)};if(n.push(s),!r)throw s.promise}let i=(e,t,r)=>o(e,t,!1,r),s=(e,t,r)=>void o(e,t,!0,r),l=e=>{if(void 0===e||0===e.length)n.splice(0,n.length);else{let t=n.find(t=>a(e,t.keys,t.equal));t&&t.remove()}}},3718:(e,t,r)=>{r.d(t,{h:()=>l});var n=r(2115),a=r(8828);let o=e=>{let t,r=new Set,n=(e,n)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=n?n:"object"!=typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,o={setState:n,getState:a,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e))},i=t=e(n,a,o);return o},{useSyncExternalStoreWithSelector:i}=a,s=(e,t)=>{let r=(e=>e?o(e):o)(e),a=(e,a=t)=>(function(e,t=e=>e,r){let a=i(e.subscribe,e.getState,e.getInitialState,t,r);return n.useDebugValue(a),a})(r,e,a);return Object.assign(a,r),a},l=(e,t)=>e?s(e,t):s},4004:(e,t)=>{function r(e,t){var r=e.length;for(e.push(t);0<r;){var n=r-1>>>1,a=e[n];if(0<o(a,t))e[n]=t,e[r]=a,r=n;else break}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;for(var n=0,a=e.length,i=a>>>1;n<i;){var s=2*(n+1)-1,l=e[s],c=s+1,d=e[c];if(0>o(l,r))c<a&&0>o(d,l)?(e[n]=d,e[c]=r,n=c):(e[n]=l,e[s]=r,n=s);else if(c<a&&0>o(d,r))e[n]=d,e[c]=r,n=c;else break}}return t}function o(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var i,s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],u=[],f=1,p=null,h=3,m=!1,g=!1,v=!1,b=!1,w="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function k(e){for(var t=n(u);null!==t;){if(null===t.callback)a(u);else if(t.startTime<=e)a(u),t.sortIndex=t.expirationTime,r(d,t);else break;t=n(u)}}function E(e){if(v=!1,k(e),!g)if(null!==n(d))g=!0,M||(M=!0,i());else{var t=n(u);null!==t&&R(E,t.startTime-e)}}var M=!1,_=-1,P=5,S=-1;function O(){return!!b||!(t.unstable_now()-S<P)}function T(){if(b=!1,M){var e=t.unstable_now();S=e;var r=!0;try{e:{g=!1,v&&(v=!1,y(_),_=-1),m=!0;var o=h;try{t:{for(k(e),p=n(d);null!==p&&!(p.expirationTime>e&&O());){var s=p.callback;if("function"==typeof s){p.callback=null,h=p.priorityLevel;var l=s(p.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof l){p.callback=l,k(e),r=!0;break t}p===n(d)&&a(d),k(e)}else a(d);p=n(d)}if(null!==p)r=!0;else{var c=n(u);null!==c&&R(E,c.startTime-e),r=!1}}break e}finally{p=null,h=o,m=!1}}}finally{r?i():M=!1}}}if("function"==typeof x)i=function(){x(T)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,C=A.port2;A.port1.onmessage=T,i=function(){C.postMessage(null)}}else i=function(){w(T,0)};function R(e,r){_=w(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?s+o:s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=0x3fffffff;break;case 4:l=1e4;break;default:l=5e3}return l=o+l,e={id:f++,callback:a,priorityLevel:e,startTime:o,expirationTime:l,sortIndex:-1},o>s?(e.sortIndex=o,r(u,e),null===n(d)&&e===n(u)&&(v?(y(_),_=-1):v=!0,R(E,o-s))):(e.sortIndex=l,r(d,e),g||m||(g=!0,M||(M=!0,i()))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},4735:(e,t,r)=>{r.d(t,{Af:()=>s,Nz:()=>a,u5:()=>l,y3:()=>u});var n=r(2115);function a(e,t,r){if(!e)return;if(!0===r(e))return e;let n=t?e.return:e.child;for(;n;){let e=a(n,t,r);if(e)return e;n=t?null:n.sibling}}function o(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}(()=>{var e,t;return"undefined"!=typeof window&&((null==(e=window.document)?void 0:e.createElement)||(null==(t=window.navigator)?void 0:t.product)==="ReactNative")})()?n.useLayoutEffect:n.useEffect;let i=o(n.createContext(null));class s extends n.Component{render(){return n.createElement(i.Provider,{value:this._reactInternals},this.props.children)}}function l(){let e=n.useContext(i);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=n.useId();return n.useMemo(()=>{for(let r of[e,null==e?void 0:e.alternate]){if(!r)continue;let e=a(r,!1,e=>{let r=e.memoizedState;for(;r;){if(r.memoizedState===t)return!0;r=r.next}});if(e)return e}},[e,t])}let c=Symbol.for("react.context"),d=e=>null!==e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===c;function u(){let e=function(){let e=l(),[t]=n.useState(()=>new Map);t.clear();let r=e;for(;r;){let e=r.type;d(e)&&e!==i&&!t.has(e)&&t.set(e,n.use(o(e))),r=r.return}return t}();return n.useMemo(()=>Array.from(e.keys()).reduce((t,r)=>a=>n.createElement(t,null,n.createElement(r.Provider,{...a,value:e.get(r)})),e=>n.createElement(s,{...e})),[e])}},4806:(e,t,r)=>{e.exports=r(125)},4943:(e,t,r)=>{e.exports=r(4004)},5889:(e,t,r)=>{r.d(t,{QP:()=>el});let n=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),a=[],o=(e,t,r)=>{if(0==e.length-t)return r.classGroupId;let n=e[t],a=r.nextPart.get(n);if(a){let r=o(e,t+1,a);if(r)return r}let i=r.validators;if(null===i)return;let s=0===t?e.join("-"):e.slice(t).join("-"),l=i.length;for(let e=0;e<l;e++){let t=i[e];if(t.validator(s))return t.classGroupId}},i=(e,t)=>{let r=n();for(let n in e)s(e[n],r,n,t);return r},s=(e,t,r,n)=>{let a=e.length;for(let o=0;o<a;o++)l(e[o],t,r,n)},l=(e,t,r,n)=>"string"==typeof e?void c(e,t,r):"function"==typeof e?void d(e,t,r,n):void u(e,t,r,n),c=(e,t,r)=>{(""===e?t:f(t,e)).classGroupId=r},d=(e,t,r,n)=>{if(p(e))return void s(e(n),t,r,n);null===t.validators&&(t.validators=[]),t.validators.push({classGroupId:r,validator:e})},u=(e,t,r,n)=>{let a=Object.entries(e),o=a.length;for(let e=0;e<o;e++){let[o,i]=a[e];s(i,f(t,o),r,n)}},f=(e,t)=>{let r=e,a=t.split("-"),o=a.length;for(let e=0;e<o;e++){let t=a[e],o=r.nextPart.get(t);o||(o=n(),r.nextPart.set(t,o)),r=o}return r},p=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,h=[],m=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),g=/\s+/,v=e=>{let t;if("string"==typeof e)return e;let r="";for(let n=0;n<e.length;n++)e[n]&&(t=v(e[n]))&&(r&&(r+=" "),r+=t);return r},b=[],w=e=>{let t=t=>t[e]||b;return t.isThemeGetter=!0,t},y=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,x=/^\((?:(\w[\w-]*):)?(.+)\)$/i,k=/^\d+\/\d+$/,E=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,M=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,P=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,S=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,O=e=>k.test(e),T=e=>!!e&&!Number.isNaN(Number(e)),A=e=>!!e&&Number.isInteger(Number(e)),C=e=>e.endsWith("%")&&T(e.slice(0,-1)),R=e=>E.test(e),I=()=>!0,z=e=>M.test(e)&&!_.test(e),U=()=>!1,j=e=>P.test(e),L=e=>S.test(e),F=e=>!D(e)&&!G(e),N=e=>J(e,en,U),D=e=>y.test(e),H=e=>J(e,ea,z),B=e=>J(e,eo,T),W=e=>J(e,et,U),Y=e=>J(e,er,L),q=e=>J(e,es,j),G=e=>x.test(e),$=e=>ee(e,ea),V=e=>ee(e,ei),X=e=>ee(e,et),Z=e=>ee(e,en),K=e=>ee(e,er),Q=e=>ee(e,es,!0),J=(e,t,r)=>{let n=y.exec(e);return!!n&&(n[1]?t(n[1]):r(n[2]))},ee=(e,t,r=!1)=>{let n=x.exec(e);return!!n&&(n[1]?t(n[1]):r)},et=e=>"position"===e||"percentage"===e,er=e=>"image"===e||"url"===e,en=e=>"length"===e||"size"===e||"bg-size"===e,ea=e=>"length"===e,eo=e=>"number"===e,ei=e=>"family-name"===e,es=e=>"shadow"===e;Symbol.toStringTag;let el=((e,...t)=>{let r,n,s,l,c=e=>{let t=n(e);if(t)return t;let a=((e,t)=>{let{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:o}=t,i=[],s=e.trim().split(g),l="";for(let e=s.length-1;e>=0;e-=1){let t=s[e],{isExternal:c,modifiers:d,hasImportantModifier:u,baseClassName:f,maybePostfixModifierPosition:p}=r(t);if(c){l=t+(l.length>0?" "+l:l);continue}let h=!!p,m=n(h?f.substring(0,p):f);if(!m){if(!h||!(m=n(f))){l=t+(l.length>0?" "+l:l);continue}h=!1}let g=0===d.length?"":1===d.length?d[0]:o(d).join(":"),v=u?g+"!":g,b=v+m;if(i.indexOf(b)>-1)continue;i.push(b);let w=a(m,h);for(let e=0;e<w.length;++e){let t=w[e];i.push(v+t)}l=t+(l.length>0?" "+l:l)}return l})(e,r);return s(e,a),a};return l=d=>(n=(r=(e=>({cache:(e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null),a=(a,o)=>{r[a]=o,++t>e&&(t=0,n=r,r=Object.create(null))};return{get(e){let t=r[e];return void 0!==t?t:void 0!==(t=n[e])?(a(e,t),t):void 0},set(e,t){e in r?r[e]=t:a(e,t)}}})(e.cacheSize),parseClassName:(e=>{let{prefix:t,experimentalParseClassName:r}=e,n=e=>{let t,r=[],n=0,a=0,o=0,i=e.length;for(let s=0;s<i;s++){let i=e[s];if(0===n&&0===a){if(":"===i){r.push(e.slice(o,s)),o=s+1;continue}if("/"===i){t=s;continue}}"["===i?n++:"]"===i?n--:"("===i?a++:")"===i&&a--}let s=0===r.length?e:e.slice(o),l=s,c=!1;return s.endsWith("!")?(l=s.slice(0,-1),c=!0):s.startsWith("!")&&(l=s.slice(1),c=!0),m(r,c,l,t&&t>o?t-o:void 0)};if(t){let e=t+":",r=n;n=t=>t.startsWith(e)?r(t.slice(e.length)):m(h,!1,t,void 0,!0)}if(r){let e=n;n=t=>r({className:t,parseClassName:e})}return n})(e),sortModifiers:(e=>{let t=new Map;return e.orderSensitiveModifiers.forEach((e,r)=>{t.set(e,1e6+r)}),e=>{let r=[],n=[];for(let a=0;a<e.length;a++){let o=e[a],i="["===o[0],s=t.has(o);i||s?(n.length>0&&(n.sort(),r.push(...n),n=[]),r.push(o)):n.push(o)}return n.length>0&&(n.sort(),r.push(...n)),r}})(e),...(e=>{let t=(e=>{let{theme:t,classGroups:r}=e;return i(r,t)})(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return(e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{let t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?"arbitrary.."+n:void 0})())(e);let r=e.split("-"),n=+(""===r[0]&&r.length>1);return o(r,n,t)},getConflictingClassGroupIds:(e,t)=>{if(t){let t=n[e],o=r[e];return t?o?((e,t)=>{let r=Array(e.length+t.length);for(let t=0;t<e.length;t++)r[t]=e[t];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r})(o,t):t:o||a}return r[e]||a}}})(e)}))(t.reduce((e,t)=>t(e),e()))).cache.get,s=r.cache.set,l=c,c(d)),(...e)=>l(((...e)=>{let t,r,n=0,a="";for(;n<e.length;)(t=e[n++])&&(r=v(t))&&(a&&(a+=" "),a+=r);return a})(...e))})(()=>{let e=w("color"),t=w("font"),r=w("text"),n=w("font-weight"),a=w("tracking"),o=w("leading"),i=w("breakpoint"),s=w("container"),l=w("spacing"),c=w("radius"),d=w("shadow"),u=w("inset-shadow"),f=w("text-shadow"),p=w("drop-shadow"),h=w("blur"),m=w("perspective"),g=w("aspect"),v=w("ease"),b=w("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...x(),G,D],E=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],_=()=>[G,D,l],P=()=>[O,"full","auto",..._()],S=()=>[A,"none","subgrid",G,D],z=()=>["auto",{span:["full",A,G,D]},A,G,D],U=()=>[A,"auto",G,D],j=()=>["auto","min","max","fr",G,D],L=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],ee=()=>["auto",..._()],et=()=>[O,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],er=()=>[e,G,D],en=()=>[...x(),X,W,{position:[G,D]}],ea=()=>["no-repeat",{repeat:["","x","y","space","round"]}],eo=()=>["auto","cover","contain",Z,N,{size:[G,D]}],ei=()=>[C,$,H],es=()=>["","none","full",c,G,D],el=()=>["",T,$,H],ec=()=>["solid","dashed","dotted","double"],ed=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],eu=()=>[T,C,X,W],ef=()=>["","none",h,G,D],ep=()=>["none",T,G,D],eh=()=>["none",T,G,D],em=()=>[T,G,D],eg=()=>[O,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[R],breakpoint:[R],color:[I],container:[R],"drop-shadow":[R],ease:["in","out","in-out"],font:[F],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[R],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[R],shadow:[R],spacing:["px",T],text:[R],"text-shadow":[R],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",O,D,G,g]}],container:["container"],columns:[{columns:[T,D,G,s]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[A,"auto",G,D]}],basis:[{basis:[O,"full","auto",s,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[T,O,"auto","initial","none",D]}],grow:[{grow:["",T,G,D]}],shrink:[{shrink:["",T,G,D]}],order:[{order:[A,"first","last","none",G,D]}],"grid-cols":[{"grid-cols":S()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":S()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...L(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...L()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":L()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:ee()}],mx:[{mx:ee()}],my:[{my:ee()}],ms:[{ms:ee()}],me:[{me:ee()}],mt:[{mt:ee()}],mr:[{mr:ee()}],mb:[{mb:ee()}],ml:[{ml:ee()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:et()}],w:[{w:[s,"screen",...et()]}],"min-w":[{"min-w":[s,"screen","none",...et()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[i]},...et()]}],h:[{h:["screen","lh",...et()]}],"min-h":[{"min-h":["screen","lh","none",...et()]}],"max-h":[{"max-h":["screen","lh",...et()]}],"font-size":[{text:["base",r,$,H]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,G,B]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",C,D]}],"font-family":[{font:[V,D,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,G,D]}],"line-clamp":[{"line-clamp":[T,"none",G,B]}],leading:[{leading:[o,..._()]}],"list-image":[{"list-image":["none",G,D]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",G,D]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:er()}],"text-color":[{text:er()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ec(),"wavy"]}],"text-decoration-thickness":[{decoration:[T,"from-font","auto",G,H]}],"text-decoration-color":[{decoration:er()}],"underline-offset":[{"underline-offset":[T,"auto",G,D]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",G,D]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",G,D]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:en()}],"bg-repeat":[{bg:ea()}],"bg-size":[{bg:eo()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},A,G,D],radial:["",G,D],conic:[A,G,D]},K,Y]}],"bg-color":[{bg:er()}],"gradient-from-pos":[{from:ei()}],"gradient-via-pos":[{via:ei()}],"gradient-to-pos":[{to:ei()}],"gradient-from":[{from:er()}],"gradient-via":[{via:er()}],"gradient-to":[{to:er()}],rounded:[{rounded:es()}],"rounded-s":[{"rounded-s":es()}],"rounded-e":[{"rounded-e":es()}],"rounded-t":[{"rounded-t":es()}],"rounded-r":[{"rounded-r":es()}],"rounded-b":[{"rounded-b":es()}],"rounded-l":[{"rounded-l":es()}],"rounded-ss":[{"rounded-ss":es()}],"rounded-se":[{"rounded-se":es()}],"rounded-ee":[{"rounded-ee":es()}],"rounded-es":[{"rounded-es":es()}],"rounded-tl":[{"rounded-tl":es()}],"rounded-tr":[{"rounded-tr":es()}],"rounded-br":[{"rounded-br":es()}],"rounded-bl":[{"rounded-bl":es()}],"border-w":[{border:el()}],"border-w-x":[{"border-x":el()}],"border-w-y":[{"border-y":el()}],"border-w-s":[{"border-s":el()}],"border-w-e":[{"border-e":el()}],"border-w-t":[{"border-t":el()}],"border-w-r":[{"border-r":el()}],"border-w-b":[{"border-b":el()}],"border-w-l":[{"border-l":el()}],"divide-x":[{"divide-x":el()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":el()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ec(),"hidden","none"]}],"divide-style":[{divide:[...ec(),"hidden","none"]}],"border-color":[{border:er()}],"border-color-x":[{"border-x":er()}],"border-color-y":[{"border-y":er()}],"border-color-s":[{"border-s":er()}],"border-color-e":[{"border-e":er()}],"border-color-t":[{"border-t":er()}],"border-color-r":[{"border-r":er()}],"border-color-b":[{"border-b":er()}],"border-color-l":[{"border-l":er()}],"divide-color":[{divide:er()}],"outline-style":[{outline:[...ec(),"none","hidden"]}],"outline-offset":[{"outline-offset":[T,G,D]}],"outline-w":[{outline:["",T,$,H]}],"outline-color":[{outline:er()}],shadow:[{shadow:["","none",d,Q,q]}],"shadow-color":[{shadow:er()}],"inset-shadow":[{"inset-shadow":["none",u,Q,q]}],"inset-shadow-color":[{"inset-shadow":er()}],"ring-w":[{ring:el()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:er()}],"ring-offset-w":[{"ring-offset":[T,H]}],"ring-offset-color":[{"ring-offset":er()}],"inset-ring-w":[{"inset-ring":el()}],"inset-ring-color":[{"inset-ring":er()}],"text-shadow":[{"text-shadow":["none",f,Q,q]}],"text-shadow-color":[{"text-shadow":er()}],opacity:[{opacity:[T,G,D]}],"mix-blend":[{"mix-blend":[...ed(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ed()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[T]}],"mask-image-linear-from-pos":[{"mask-linear-from":eu()}],"mask-image-linear-to-pos":[{"mask-linear-to":eu()}],"mask-image-linear-from-color":[{"mask-linear-from":er()}],"mask-image-linear-to-color":[{"mask-linear-to":er()}],"mask-image-t-from-pos":[{"mask-t-from":eu()}],"mask-image-t-to-pos":[{"mask-t-to":eu()}],"mask-image-t-from-color":[{"mask-t-from":er()}],"mask-image-t-to-color":[{"mask-t-to":er()}],"mask-image-r-from-pos":[{"mask-r-from":eu()}],"mask-image-r-to-pos":[{"mask-r-to":eu()}],"mask-image-r-from-color":[{"mask-r-from":er()}],"mask-image-r-to-color":[{"mask-r-to":er()}],"mask-image-b-from-pos":[{"mask-b-from":eu()}],"mask-image-b-to-pos":[{"mask-b-to":eu()}],"mask-image-b-from-color":[{"mask-b-from":er()}],"mask-image-b-to-color":[{"mask-b-to":er()}],"mask-image-l-from-pos":[{"mask-l-from":eu()}],"mask-image-l-to-pos":[{"mask-l-to":eu()}],"mask-image-l-from-color":[{"mask-l-from":er()}],"mask-image-l-to-color":[{"mask-l-to":er()}],"mask-image-x-from-pos":[{"mask-x-from":eu()}],"mask-image-x-to-pos":[{"mask-x-to":eu()}],"mask-image-x-from-color":[{"mask-x-from":er()}],"mask-image-x-to-color":[{"mask-x-to":er()}],"mask-image-y-from-pos":[{"mask-y-from":eu()}],"mask-image-y-to-pos":[{"mask-y-to":eu()}],"mask-image-y-from-color":[{"mask-y-from":er()}],"mask-image-y-to-color":[{"mask-y-to":er()}],"mask-image-radial":[{"mask-radial":[G,D]}],"mask-image-radial-from-pos":[{"mask-radial-from":eu()}],"mask-image-radial-to-pos":[{"mask-radial-to":eu()}],"mask-image-radial-from-color":[{"mask-radial-from":er()}],"mask-image-radial-to-color":[{"mask-radial-to":er()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":x()}],"mask-image-conic-pos":[{"mask-conic":[T]}],"mask-image-conic-from-pos":[{"mask-conic-from":eu()}],"mask-image-conic-to-pos":[{"mask-conic-to":eu()}],"mask-image-conic-from-color":[{"mask-conic-from":er()}],"mask-image-conic-to-color":[{"mask-conic-to":er()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:en()}],"mask-repeat":[{mask:ea()}],"mask-size":[{mask:eo()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",G,D]}],filter:[{filter:["","none",G,D]}],blur:[{blur:ef()}],brightness:[{brightness:[T,G,D]}],contrast:[{contrast:[T,G,D]}],"drop-shadow":[{"drop-shadow":["","none",p,Q,q]}],"drop-shadow-color":[{"drop-shadow":er()}],grayscale:[{grayscale:["",T,G,D]}],"hue-rotate":[{"hue-rotate":[T,G,D]}],invert:[{invert:["",T,G,D]}],saturate:[{saturate:[T,G,D]}],sepia:[{sepia:["",T,G,D]}],"backdrop-filter":[{"backdrop-filter":["","none",G,D]}],"backdrop-blur":[{"backdrop-blur":ef()}],"backdrop-brightness":[{"backdrop-brightness":[T,G,D]}],"backdrop-contrast":[{"backdrop-contrast":[T,G,D]}],"backdrop-grayscale":[{"backdrop-grayscale":["",T,G,D]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[T,G,D]}],"backdrop-invert":[{"backdrop-invert":["",T,G,D]}],"backdrop-opacity":[{"backdrop-opacity":[T,G,D]}],"backdrop-saturate":[{"backdrop-saturate":[T,G,D]}],"backdrop-sepia":[{"backdrop-sepia":["",T,G,D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",G,D]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[T,"initial",G,D]}],ease:[{ease:["linear","initial",v,G,D]}],delay:[{delay:[T,G,D]}],animate:[{animate:["none",b,G,D]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,G,D]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:ep()}],"rotate-x":[{"rotate-x":ep()}],"rotate-y":[{"rotate-y":ep()}],"rotate-z":[{"rotate-z":ep()}],scale:[{scale:eh()}],"scale-x":[{"scale-x":eh()}],"scale-y":[{"scale-y":eh()}],"scale-z":[{"scale-z":eh()}],"scale-3d":["scale-3d"],skew:[{skew:em()}],"skew-x":[{"skew-x":em()}],"skew-y":[{"skew-y":em()}],transform:[{transform:[G,D,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:eg()}],"translate-x":[{"translate-x":eg()}],"translate-y":[{"translate-y":eg()}],"translate-z":[{"translate-z":eg()}],"translate-none":["translate-none"],accent:[{accent:er()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:er()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",G,D]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",G,D]}],fill:[{fill:["none",...er()]}],"stroke-w":[{stroke:[T,$,H,B]}],stroke:[{stroke:["none",...er()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}})},6750:(e,t,r)=>{r.d(t,{N:()=>g});var n=r(8945),a=r(264),o=r(2115),i=r(5339),s=Object.defineProperty;class l{constructor(){((e,t,r)=>((e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r))(this,"_listeners")}addEventListener(e,t){void 0===this._listeners&&(this._listeners={});let r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;let r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;let r=this._listeners[e];if(void 0!==r){let e=r.indexOf(t);-1!==e&&r.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;let t=this._listeners[e.type];if(void 0!==t){e.target=this;let r=t.slice(0);for(let t=0,n=r.length;t<n;t++)r[t].call(this,e);e.target=null}}}var c=Object.defineProperty,d=(e,t,r)=>(((e,t,r)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r),r);let u=new i.RlV,f=new i.Zcv,p=Math.cos(Math.PI/180*70),h=(e,t)=>(e%t+t)%t;class m extends l{constructor(e,t){super(),d(this,"object"),d(this,"domElement"),d(this,"enabled",!0),d(this,"target",new i.Pq0),d(this,"minDistance",0),d(this,"maxDistance",1/0),d(this,"minZoom",0),d(this,"maxZoom",1/0),d(this,"minPolarAngle",0),d(this,"maxPolarAngle",Math.PI),d(this,"minAzimuthAngle",-1/0),d(this,"maxAzimuthAngle",1/0),d(this,"enableDamping",!1),d(this,"dampingFactor",.05),d(this,"enableZoom",!0),d(this,"zoomSpeed",1),d(this,"enableRotate",!0),d(this,"rotateSpeed",1),d(this,"enablePan",!0),d(this,"panSpeed",1),d(this,"screenSpacePanning",!0),d(this,"keyPanSpeed",7),d(this,"zoomToCursor",!1),d(this,"autoRotate",!1),d(this,"autoRotateSpeed",2),d(this,"reverseOrbit",!1),d(this,"reverseHorizontalOrbit",!1),d(this,"reverseVerticalOrbit",!1),d(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),d(this,"mouseButtons",{LEFT:i.kBv.ROTATE,MIDDLE:i.kBv.DOLLY,RIGHT:i.kBv.PAN}),d(this,"touches",{ONE:i.wtR.ROTATE,TWO:i.wtR.DOLLY_PAN}),d(this,"target0"),d(this,"position0"),d(this,"zoom0"),d(this,"_domElementKeyEvents",null),d(this,"getPolarAngle"),d(this,"getAzimuthalAngle"),d(this,"setPolarAngle"),d(this,"setAzimuthalAngle"),d(this,"getDistance"),d(this,"getZoomScale"),d(this,"listenToKeyEvents"),d(this,"stopListenToKeyEvents"),d(this,"saveState"),d(this,"reset"),d(this,"update"),d(this,"connect"),d(this,"dispose"),d(this,"dollyIn"),d(this,"dollyOut"),d(this,"getScale"),d(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=e=>{let t=h(e,2*Math.PI),n=m.phi;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);let a=Math.abs(t-n);2*Math.PI-a<a&&(t<n?t+=2*Math.PI:n+=2*Math.PI),g.phi=t-n,r.update()},this.setAzimuthalAngle=e=>{let t=h(e,2*Math.PI),n=m.theta;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);let a=Math.abs(t-n);2*Math.PI-a<a&&(t<n?t+=2*Math.PI:n+=2*Math.PI),g.theta=t-n,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=e=>{e.addEventListener("keydown",ee),this._domElementKeyEvents=e},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ee),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(n),r.update(),l=s.NONE},this.update=(()=>{let t=new i.Pq0,a=new i.Pq0(0,1,0),o=new i.PTz().setFromUnitVectors(e.up,a),d=o.clone().invert(),h=new i.Pq0,w=new i.PTz,y=2*Math.PI;return function(){let x=r.object.position;o.setFromUnitVectors(e.up,a),d.copy(o).invert(),t.copy(x).sub(r.target),t.applyQuaternion(o),m.setFromVector3(t),r.autoRotate&&l===s.NONE&&z(2*Math.PI/60/60*r.autoRotateSpeed),r.enableDamping?(m.theta+=g.theta*r.dampingFactor,m.phi+=g.phi*r.dampingFactor):(m.theta+=g.theta,m.phi+=g.phi);let k=r.minAzimuthAngle,E=r.maxAzimuthAngle;isFinite(k)&&isFinite(E)&&(k<-Math.PI?k+=y:k>Math.PI&&(k-=y),E<-Math.PI?E+=y:E>Math.PI&&(E-=y),k<=E?m.theta=Math.max(k,Math.min(E,m.theta)):m.theta=m.theta>(k+E)/2?Math.max(k,m.theta):Math.min(E,m.theta)),m.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,m.phi)),m.makeSafe(),!0===r.enableDamping?r.target.addScaledVector(b,r.dampingFactor):r.target.add(b),r.zoomToCursor&&A||r.object.isOrthographicCamera?m.radius=H(m.radius):m.radius=H(m.radius*v),t.setFromSpherical(m),t.applyQuaternion(d),x.copy(r.target).add(t),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),!0===r.enableDamping?(g.theta*=1-r.dampingFactor,g.phi*=1-r.dampingFactor,b.multiplyScalar(1-r.dampingFactor)):(g.set(0,0,0),b.set(0,0,0));let M=!1;if(r.zoomToCursor&&A){let n=null;if(r.object instanceof i.ubm&&r.object.isPerspectiveCamera){let e=t.length();n=H(e*v);let a=e-n;r.object.position.addScaledVector(O,a),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){let e=new i.Pq0(T.x,T.y,0);e.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/v)),r.object.updateProjectionMatrix(),M=!0;let a=new i.Pq0(T.x,T.y,0);a.unproject(r.object),r.object.position.sub(a).add(e),r.object.updateMatrixWorld(),n=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;null!==n&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(n).add(r.object.position):(u.origin.copy(r.object.position),u.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(u.direction))<p?e.lookAt(r.target):(f.setFromNormalAndCoplanarPoint(r.object.up,r.target),u.intersectPlane(f,r.target))))}else r.object instanceof i.qUd&&r.object.isOrthographicCamera&&(M=1!==v)&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/v)),r.object.updateProjectionMatrix());return v=1,A=!1,!!(M||h.distanceToSquared(r.object.position)>c||8*(1-w.dot(r.object.quaternion))>c)&&(r.dispatchEvent(n),h.copy(r.object.position),w.copy(r.object.quaternion),M=!1,!0)}})(),this.connect=e=>{r.domElement=e,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",et),r.domElement.addEventListener("pointerdown",Z),r.domElement.addEventListener("pointercancel",Q),r.domElement.addEventListener("wheel",J)},this.dispose=()=>{var e,t,n,a,o,i;r.domElement&&(r.domElement.style.touchAction="auto"),null==(e=r.domElement)||e.removeEventListener("contextmenu",et),null==(t=r.domElement)||t.removeEventListener("pointerdown",Z),null==(n=r.domElement)||n.removeEventListener("pointercancel",Q),null==(a=r.domElement)||a.removeEventListener("wheel",J),null==(o=r.domElement)||o.ownerDocument.removeEventListener("pointermove",K),null==(i=r.domElement)||i.ownerDocument.removeEventListener("pointerup",Q),null!==r._domElementKeyEvents&&r._domElementKeyEvents.removeEventListener("keydown",ee)};let r=this,n={type:"change"},a={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},l=s.NONE,c=1e-6,m=new i.YHV,g=new i.YHV,v=1,b=new i.Pq0,w=new i.I9Y,y=new i.I9Y,x=new i.I9Y,k=new i.I9Y,E=new i.I9Y,M=new i.I9Y,_=new i.I9Y,P=new i.I9Y,S=new i.I9Y,O=new i.Pq0,T=new i.I9Y,A=!1,C=[],R={};function I(){return Math.pow(.95,r.zoomSpeed)}function z(e){r.reverseOrbit||r.reverseHorizontalOrbit?g.theta+=e:g.theta-=e}function U(e){r.reverseOrbit||r.reverseVerticalOrbit?g.phi+=e:g.phi-=e}let j=(()=>{let e=new i.Pq0;return function(t,r){e.setFromMatrixColumn(r,0),e.multiplyScalar(-t),b.add(e)}})(),L=(()=>{let e=new i.Pq0;return function(t,n){!0===r.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(r.object.up,e)),e.multiplyScalar(t),b.add(e)}})(),F=(()=>{let e=new i.Pq0;return function(t,n){let a=r.domElement;if(a&&r.object instanceof i.ubm&&r.object.isPerspectiveCamera){let o=r.object.position;e.copy(o).sub(r.target);let i=e.length();j(2*t*(i*=Math.tan(r.object.fov/2*Math.PI/180))/a.clientHeight,r.object.matrix),L(2*n*i/a.clientHeight,r.object.matrix)}else a&&r.object instanceof i.qUd&&r.object.isOrthographicCamera?(j(t*(r.object.right-r.object.left)/r.object.zoom/a.clientWidth,r.object.matrix),L(n*(r.object.top-r.object.bottom)/r.object.zoom/a.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function N(e){r.object instanceof i.ubm&&r.object.isPerspectiveCamera||r.object instanceof i.qUd&&r.object.isOrthographicCamera?v=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function D(e){if(!r.zoomToCursor||!r.domElement)return;A=!0;let t=r.domElement.getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top,o=t.width,i=t.height;T.x=n/o*2-1,T.y=-(a/i*2)+1,O.set(T.x,T.y,1).unproject(r.object).sub(r.object.position).normalize()}function H(e){return Math.max(r.minDistance,Math.min(r.maxDistance,e))}function B(e){w.set(e.clientX,e.clientY)}function W(e){k.set(e.clientX,e.clientY)}function Y(){if(1==C.length)w.set(C[0].pageX,C[0].pageY);else{let e=.5*(C[0].pageX+C[1].pageX),t=.5*(C[0].pageY+C[1].pageY);w.set(e,t)}}function q(){if(1==C.length)k.set(C[0].pageX,C[0].pageY);else{let e=.5*(C[0].pageX+C[1].pageX),t=.5*(C[0].pageY+C[1].pageY);k.set(e,t)}}function G(){let e=C[0].pageX-C[1].pageX,t=C[0].pageY-C[1].pageY,r=Math.sqrt(e*e+t*t);_.set(0,r)}function $(e){if(1==C.length)y.set(e.pageX,e.pageY);else{let t=en(e),r=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);y.set(r,n)}x.subVectors(y,w).multiplyScalar(r.rotateSpeed);let t=r.domElement;t&&(z(2*Math.PI*x.x/t.clientHeight),U(2*Math.PI*x.y/t.clientHeight)),w.copy(y)}function V(e){if(1==C.length)E.set(e.pageX,e.pageY);else{let t=en(e),r=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);E.set(r,n)}M.subVectors(E,k).multiplyScalar(r.panSpeed),F(M.x,M.y),k.copy(E)}function X(e){var t;let n=en(e),a=e.pageX-n.x,o=e.pageY-n.y,i=Math.sqrt(a*a+o*o);P.set(0,i),S.set(0,Math.pow(P.y/_.y,r.zoomSpeed)),t=S.y,N(v/t),_.copy(P)}function Z(e){var t,n,o;!1!==r.enabled&&(0===C.length&&(null==(t=r.domElement)||t.ownerDocument.addEventListener("pointermove",K),null==(n=r.domElement)||n.ownerDocument.addEventListener("pointerup",Q)),o=e,C.push(o),"touch"===e.pointerType?function(e){switch(er(e),C.length){case 1:switch(r.touches.ONE){case i.wtR.ROTATE:if(!1===r.enableRotate)return;Y(),l=s.TOUCH_ROTATE;break;case i.wtR.PAN:if(!1===r.enablePan)return;q(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(r.touches.TWO){case i.wtR.DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;r.enableZoom&&G(),r.enablePan&&q(),l=s.TOUCH_DOLLY_PAN;break;case i.wtR.DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;r.enableZoom&&G(),r.enableRotate&&Y(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(a)}(e):function(e){let t;switch(e.button){case 0:t=r.mouseButtons.LEFT;break;case 1:t=r.mouseButtons.MIDDLE;break;case 2:t=r.mouseButtons.RIGHT;break;default:t=-1}switch(t){case i.kBv.DOLLY:if(!1===r.enableZoom)return;D(e),_.set(e.clientX,e.clientY),l=s.DOLLY;break;case i.kBv.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===r.enablePan)return;W(e),l=s.PAN}else{if(!1===r.enableRotate)return;B(e),l=s.ROTATE}break;case i.kBv.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===r.enableRotate)return;B(e),l=s.ROTATE}else{if(!1===r.enablePan)return;W(e),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(a)}(e))}function K(e){!1!==r.enabled&&("touch"===e.pointerType?function(e){switch(er(e),l){case s.TOUCH_ROTATE:if(!1===r.enableRotate)return;$(e),r.update();break;case s.TOUCH_PAN:if(!1===r.enablePan)return;V(e),r.update();break;case s.TOUCH_DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;r.enableZoom&&X(e),r.enablePan&&V(e),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;r.enableZoom&&X(e),r.enableRotate&&$(e),r.update();break;default:l=s.NONE}}(e):function(e){if(!1!==r.enabled)switch(l){case s.ROTATE:if(!1===r.enableRotate)return;y.set(e.clientX,e.clientY),x.subVectors(y,w).multiplyScalar(r.rotateSpeed);let t=r.domElement;t&&(z(2*Math.PI*x.x/t.clientHeight),U(2*Math.PI*x.y/t.clientHeight)),w.copy(y),r.update();break;case s.DOLLY:var n,a;if(!1===r.enableZoom)return;(P.set(e.clientX,e.clientY),S.subVectors(P,_),S.y>0)?(n=I(),N(v/n)):S.y<0&&(a=I(),N(v*a)),_.copy(P),r.update();break;case s.PAN:if(!1===r.enablePan)return;E.set(e.clientX,e.clientY),M.subVectors(E,k).multiplyScalar(r.panSpeed),F(M.x,M.y),k.copy(E),r.update()}}(e))}function Q(e){var t,n,a;(function(e){delete R[e.pointerId];for(let t=0;t<C.length;t++)if(C[t].pointerId==e.pointerId)return void C.splice(t,1)})(e),0===C.length&&(null==(t=r.domElement)||t.releasePointerCapture(e.pointerId),null==(n=r.domElement)||n.ownerDocument.removeEventListener("pointermove",K),null==(a=r.domElement)||a.ownerDocument.removeEventListener("pointerup",Q)),r.dispatchEvent(o),l=s.NONE}function J(e){if(!1!==r.enabled&&!1!==r.enableZoom&&(l===s.NONE||l===s.ROTATE)){var t,n;e.preventDefault(),r.dispatchEvent(a),(D(e),e.deltaY<0)?(t=I(),N(v*t)):e.deltaY>0&&(n=I(),N(v/n)),r.update(),r.dispatchEvent(o)}}function ee(e){if(!1!==r.enabled&&!1!==r.enablePan){let t=!1;switch(e.code){case r.keys.UP:F(0,r.keyPanSpeed),t=!0;break;case r.keys.BOTTOM:F(0,-r.keyPanSpeed),t=!0;break;case r.keys.LEFT:F(r.keyPanSpeed,0),t=!0;break;case r.keys.RIGHT:F(-r.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),r.update())}}function et(e){!1!==r.enabled&&e.preventDefault()}function er(e){let t=R[e.pointerId];void 0===t&&(t=new i.I9Y,R[e.pointerId]=t),t.set(e.pageX,e.pageY)}function en(e){return R[(e.pointerId===C[0].pointerId?C[1]:C[0]).pointerId]}this.dollyIn=(e=I())=>{N(v*e),r.update()},this.dollyOut=(e=I())=>{N(v/e),r.update()},this.getScale=()=>v,this.setScale=e=>{N(e),r.update()},this.getZoomScale=()=>I(),void 0!==t&&this.connect(t),this.update()}}let g=o.forwardRef(({makeDefault:e,camera:t,regress:r,domElement:i,enableDamping:s=!0,keyEvents:l=!1,onChange:c,onStart:d,onEnd:u,...f},p)=>{let h=(0,a.C)(e=>e.invalidate),g=(0,a.C)(e=>e.camera),v=(0,a.C)(e=>e.gl),b=(0,a.C)(e=>e.events),w=(0,a.C)(e=>e.setEvents),y=(0,a.C)(e=>e.set),x=(0,a.C)(e=>e.get),k=(0,a.C)(e=>e.performance),E=t||g,M=i||b.connected||v.domElement,_=o.useMemo(()=>new m(E),[E]);return(0,a.D)(()=>{_.enabled&&_.update()},-1),o.useEffect(()=>(l&&_.connect(!0===l?M:l),_.connect(M),()=>void _.dispose()),[l,M,r,_,h]),o.useEffect(()=>{let e=e=>{h(),r&&k.regress(),c&&c(e)},t=e=>{d&&d(e)},n=e=>{u&&u(e)};return _.addEventListener("change",e),_.addEventListener("start",t),_.addEventListener("end",n),()=>{_.removeEventListener("start",t),_.removeEventListener("end",n),_.removeEventListener("change",e)}},[c,d,u,_,h,w]),o.useEffect(()=>{if(e){let e=x().controls;return y({controls:_}),()=>y({controls:e})}},[e,_]),o.createElement("primitive",(0,n.A)({ref:p,object:_,enableDamping:s},f))})},8828:(e,t,r)=>{e.exports=r(3654)},8945:(e,t,r)=>{r.d(t,{A:()=>n});function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}}}]);